<!--============================== transaction spinner ===================-->
<div *ngIf="spinner">
    <app-common-loader-spinner></app-common-loader-spinner>
</div>
<!--============================== // transaction spinner ===================-->

<div>
    <div fxLayout="row wrap">
        <div fxFlex.xs="100%" fxFlex.sm="100%" class="form-header">
            <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                <p class="tab-form-header">{{'NAV.SDGs' | translate}}</p>
            </div>
        </div>

        <div fxFlex.xs="100%" fxFlex.sm="100%" class="padding1">
            <div fxLayout="column" fxLayoutAlign="space-between center">
                <mat-radio-group [(ngModel)]="sdgsTrue" >
                    <mat-radio-button (click)="sdgsTrueFunction()" value="true">Yes</mat-radio-button>
                    <mat-radio-button (click)="sdgsFalseFunction()" value="false">No</mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>

<!--    Sdgs plan table-->
    <div style="overflow-x:auto;" *ngIf="isSDGS" class="table1">
        <form [formGroup]="form">
            <table mat-table [dataSource]="dataSource1" class="mat-elevation-z8" formArrayName="sdgs">
                <!-- Row definitions -->
                <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns;"></tr>

                <!-- Column definitions -->
                <ng-container matColumnDef="sl">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Serial' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index;">
                        {{i + 1}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="goals">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Goals' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="goals">
                        </mat-form-field>
                        <div *ngIf="!isGoalsValidate && !rows.getRawValue()[i].goals" class="text-red">Goals is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="targets">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Targets' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="targets">
                        </mat-form-field>
                        <div *ngIf="!isTargetValidate && !rows.getRawValue()[i].targets" class="text-red">Target is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="indicator">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Indicator' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="indicator">
                        </mat-form-field>
                        <div *ngIf="!isIndicatorValidate && !rows.getRawValue()[i].indicator" class="text-red">Indicator is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="attachment">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Attachment' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">

                        <div>
                            <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                <label>{{row.value.attachmentName}}</label>
                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile($event.target.files, i)" [accept]="'.pdf'"
                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                <mat-icon matSuffix>folder</mat-icon>
                            </mat-form-field>
                            <div *ngIf="!isAttachmentValidate && !rows.getRawValue()[i].attachmentId" class="text-red">Attachment is required</div>

                            <button [disabled]="spinner" *ngIf="this.form.value.sdgs[i].attachmentId" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Download Attachment" (click)="download(i, 'sdgs')" color="primary">file_download</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Action' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="buttons">
                            <button class="toggle-sidebar-folded"
                                    mat-icon-button
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Add New" (click)="addRow()" color="primary">add</mat-icon>
                            </button>

                            <button *ngIf="!canUpdate"  mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon  matTooltip="Delete" (click)="openDialog(i, 'deleteFromCurrentRow', 'sdgs')" color="warn">delete</mat-icon>
                            </button>

                            <button *ngIf="canUpdate" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Delete" (click)="openDialog(i, 'deleteFromDB', 'sdgs')" color="warn">delete</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

            </table>
        </form>
    </div>

    <div fxLayout="row wrap">
        <div fxFlex.xs="100%" fxFlex.sm="100%" class="form-header1">
            <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                <p class="tab-form-header">{{'NAV.5_Year_Plan' | translate}}</p>
            </div>
        </div>

        <div fxFlex.xs="100%" fxFlex.sm="100%" class="padding2">
            <div fxLayout="column" fxLayoutAlign="space-between center">
                <mat-radio-group [(ngModel)]="fiveYearTrue">
                    <mat-radio-button (click)="fiveYearTrueFunction()" value="true">Yes</mat-radio-button>
                    <mat-radio-button (click)="fiveYearFalseFunction()" value="false">No</mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>

<!--    Five year plan table-->
    <div style="overflow-x:auto;" *ngIf="isFiveYearPlan">
        <form [formGroup]="form1">
            <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8" formArrayName="fiveYearPlan">
                <!-- Row definitions -->
                <tr mat-header-row *matHeaderRowDef="displayColumns1"></tr>
                <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns1;"></tr>

                <!-- Column definitions -->
                <ng-container matColumnDef="sl">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Serial' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index;">
                        {{i + 1}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="goals">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Goals' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="goals">
                        </mat-form-field>
                        <div *ngIf="!isGoalsValidate && !rows1.getRawValue()[i].goals" class="text-red">Goals is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="targets">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Targets' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="targets">
                        </mat-form-field>
                        <div *ngIf="!isTargetValidate && !rows1.getRawValue()[i].targets" class="text-red">Target is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="indicator">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Indicator' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="indicator">
                        </mat-form-field>
                        <div *ngIf="!isIndicatorValidate && !rows1.getRawValue()[i].indicator" class="text-red">Indicator is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="attachment">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Attachment' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">

                        <div>
                            <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                <label>{{row.value.attachmentName}}</label>
                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile1($event.target.files, i)" [accept]="'.pdf'"
                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                <mat-icon matSuffix>folder</mat-icon>
                            </mat-form-field>

                            <div *ngIf="!isAttachmentValidate && !rows1.getRawValue()[i].attachmentId" class="text-red">Attachment is required</div>

                            <button [disabled]="spinner" *ngIf="this.form1.value.fiveYearPlan[i].attachmentId" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Download Attachment" (click)="download(i, 'fiveYearPlan')" color="primary">file_download</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Action' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="buttons">
                            <button class="toggle-sidebar-folded"
                                    mat-icon-button
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Add New" (click)="addRow1()" color="primary">add</mat-icon>
                            </button>

                            <button *ngIf="!canUpdate1"  mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon  matTooltip="Delete" (click)="openDialog(i, 'deleteFromCurrentRow', 'fiveYearPlan')" color="warn">delete</mat-icon>
                            </button>

                            <button *ngIf="canUpdate1" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Delete" (click)="openDialog(i, 'deleteFromDB', 'fiveYearPlan')" color="warn">delete</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

            </table>
        </form>
    </div>

    <div fxLayout="row wrap">
        <div fxFlex.xs="100%" fxFlex.sm="100%" class="form-header1">
            <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                <p class="tab-form-header">{{'NAV.Perspective_Plan' | translate}}</p>
            </div>
        </div>

        <div fxFlex.xs="100%" fxFlex.sm="100%" class="padding2">
            <div fxLayout="column" fxLayoutAlign="space-between center">
                <mat-radio-group [(ngModel)]="perspectivePlanTrue">
                    <mat-radio-button (click)="perspectivePlanTrueFunction()" value="true">Yes</mat-radio-button>
                    <mat-radio-button (click)="perspectivePlanFalseFunction()" value="false">No</mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>

<!--    Perspective plan table-->
    <div style="overflow-x:auto;" *ngIf="isPerspectivePlanChange">
        <form [formGroup]="form2">
            <table mat-table [dataSource]="dataSource3" class="mat-elevation-z8" formArrayName="perspectivePlan">
                <!-- Row definitions -->
                <tr mat-header-row *matHeaderRowDef="displayColumns2"></tr>
                <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns2;"></tr>

                <!-- Column definitions -->
                <ng-container matColumnDef="sl">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Serial' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index;">
                        {{i + 1}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="goals">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Goals' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="goals">
                        </mat-form-field>
                        <div *ngIf="!isGoalsValidate && !rows2.getRawValue()[i].goals" class="text-red">Goals is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="targets">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Targets' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="targets">
                        </mat-form-field>
                        <div *ngIf="!isTargetValidate && !rows2.getRawValue()[i].targets" class="text-red">Target is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="indicator">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Indicator' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="indicator">
                        </mat-form-field>
                        <div *ngIf="!isIndicatorValidate && !rows2.getRawValue()[i].indicator" class="text-red">Indicator is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="attachment">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Attachment' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">

                        <div>
                            <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                <label>{{row.value.attachmentName}}</label>
                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile2($event.target.files, i)" [accept]="'.pdf'"
                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                <mat-icon matSuffix>folder</mat-icon>
                            </mat-form-field>

                            <div *ngIf="!isAttachmentValidate && !rows2.getRawValue()[i].attachmentId" class="text-red">Attachment is required</div>

                            <button [disabled]="spinner" *ngIf="this.form2.value.perspectivePlan[i].attachmentId" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Download Attachment" (click)="download(i, 'perspectivePlan')" color="primary">file_download</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Action' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="buttons">
                            <button class="toggle-sidebar-folded"
                                    mat-icon-button
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Add New" (click)="addRow2()" color="primary">add</mat-icon>
                            </button>

                            <button *ngIf="!canUpdate2"  mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon  matTooltip="Delete" (click)="openDialog(i, 'deleteFromCurrentRow', 'perspectivePlan')" color="warn">delete</mat-icon>
                            </button>

                            <button *ngIf="canUpdate2" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Delete" (click)="openDialog(i, 'deleteFromDB', 'perspectivePlan')" color="warn">delete</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

            </table>
        </form>
    </div>

    <div fxLayout="row wrap">
        <div fxFlex.xs="100%" fxFlex.sm="100%" class="form-header1">
            <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                <p class="tab-form-header">{{'NAV.Delta_plan' | translate}}</p>
            </div>
        </div>

        <div fxFlex.xs="100%" fxFlex.sm="100%" class="padding2">
            <div fxLayout="column" fxLayoutAlign="space-between center">
                <mat-radio-group [(ngModel)]="deltaPlanTrue">
                    <mat-radio-button (click)="deltaPlanTrueFunction()" value="true">Yes</mat-radio-button>
                    <mat-radio-button (click)="deltaPlanFalseFunction()" value="false">No</mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>

<!--    Delta plan table-->
    <div style="overflow-x:auto;" *ngIf="isDeltaPlanChange">
        <form [formGroup]="form3">
            <table mat-table [dataSource]="dataSource4" class="mat-elevation-z8" formArrayName="deltaPlan">
                <!-- Row definitions -->
                <tr mat-header-row *matHeaderRowDef="displayColumns3"></tr>
                <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns3;"></tr>

                <!-- Column definitions -->
                <ng-container matColumnDef="sl">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Serial' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index;">
                        {{i + 1}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="goals">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Goals' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="goals">
                        </mat-form-field>
                        <div *ngIf="!isGoalsValidate && !rows3.getRawValue()[i].goals" class="text-red">Goals is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="targets">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Targets' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="targets">
                        </mat-form-field>
                        <div *ngIf="!isTargetValidate && !rows3.getRawValue()[i].targets" class="text-red">Target is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="indicator">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Indicator' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="indicator">
                        </mat-form-field>
                        <div *ngIf="!isIndicatorValidate && !rows3.getRawValue()[i].indicator" class="text-red">Indicator is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="attachment">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Attachment' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">

                        <div>
                            <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                <label>{{row.value.attachmentName}}</label>
                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile3($event.target.files, i)" [accept]="'.pdf'"
                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                <mat-icon matSuffix>folder</mat-icon>
                            </mat-form-field>

                            <div *ngIf="!isAttachmentValidate && !rows3.getRawValue()[i].attachmentId" class="text-red">Attachment is required</div>

                            <button [disabled]="spinner" *ngIf="this.form3.value.deltaPlan[i].attachmentId" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Download Attachment" (click)="download(i, 'deltaPlan')" color="primary">file_download</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Action' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="buttons">
                            <button class="toggle-sidebar-folded"
                                    mat-icon-button
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Add New" (click)="addRow3()" color="primary">add</mat-icon>
                            </button>

                            <button *ngIf="!canUpdate3"  mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon  matTooltip="Delete" (click)="openDialog(i, 'deleteFromCurrentRow', 'deltaPlan')" color="warn">delete</mat-icon>
                            </button>

                            <button *ngIf="canUpdate3" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Delete" (click)="openDialog(i, 'deleteFromDB', 'deltaPlan')" color="warn">delete</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

            </table>
        </form>
    </div>

    <div fxLayout="row wrap">
        <div fxFlex.xs="100%" fxFlex.sm="100%" class="form-header1">
            <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                <p class="tab-form-header">{{'NAV.Climate_Change' | translate}}</p>
            </div>
        </div>

        <div fxFlex.xs="100%" fxFlex.sm="100%" class="padding2">
            <div fxLayout="column" fxLayoutAlign="space-between center">
                <mat-radio-group [(ngModel)]="climateTrue">
                    <mat-radio-button (click)="climateChangeTrueFunction()" value="true">Yes</mat-radio-button>
                    <mat-radio-button (click)="climateChangeFalseFunction()" value="false">No</mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>

<!--    Climate table-->
    <div style="overflow-x:auto;" *ngIf="isClimateChange">
        <form [formGroup]="form4">
            <table mat-table [dataSource]="dataSource5" class="mat-elevation-z8" formArrayName="climateChange">
                <!-- Row definitions -->
                <tr mat-header-row *matHeaderRowDef="displayColumns4"></tr>
                <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns4;"></tr>

                <!-- Column definitions -->
                <ng-container matColumnDef="sl">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Serial' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index;">
                        {{i + 1}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="goals">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Goals' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="goals">
                        </mat-form-field>
                        <div *ngIf="!isGoalsValidate && !rows4.getRawValue()[i].goals" class="text-red">Goals is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="targets">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Targets' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="targets">
                        </mat-form-field>
                        <div *ngIf="!isTargetValidate && !rows4.getRawValue()[i].targets" class="text-red">Target is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="indicator">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Indicator' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="indicator">
                        </mat-form-field>
                        <div *ngIf="!isIndicatorValidate && !rows4.getRawValue()[i].indicator" class="text-red">Indicator is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="attachment">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Attachment' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">

                        <div>
                            <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                <label>{{row.value.attachmentName}}</label>
                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile4($event.target.files, i)" [accept]="'.pdf'"
                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                <mat-icon matSuffix>folder</mat-icon>
                            </mat-form-field>

                            <div *ngIf="!isAttachmentValidate && !rows4.getRawValue()[i].attachmentId" class="text-red">Attachment is required</div>

                            <button [disabled]="spinner"  *ngIf="this.form4.value.climateChange[i].attachmentId" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Download Attachment" (click)="download(i, 'climate')" color="primary">file_download</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Action' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="buttons">
                            <button class="toggle-sidebar-folded"
                                    mat-icon-button
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Add New" (click)="addRow4()" color="primary">add</mat-icon>
                            </button>

                            <button *ngIf="!canUpdate4"  mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon  matTooltip="Delete" (click)="openDialog(i, 'deleteFromCurrentRow', 'climate')" color="warn">delete</mat-icon>
                            </button>

                            <button *ngIf="canUpdate4" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Delete" (click)="openDialog(i, 'deleteFromDB', 'climate')" color="warn">delete</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

            </table>
        </form>
    </div>

    <div fxLayout="row wrap">
        <div fxFlex.xs="100%" fxFlex.sm="100%" class="form-header1">
            <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                <p class="tab-form-header">{{'NAV.Poverty' | translate}}</p>
            </div>
        </div>

        <div fxFlex.xs="100%" fxFlex.sm="100%" class="padding2">
            <div fxLayout="column" fxLayoutAlign="space-between center">
                <mat-radio-group [(ngModel)]="povertyTrue">
                    <mat-radio-button (click)="povertyTrueFunction()" value="true">Yes</mat-radio-button>
                    <mat-radio-button (click)="povertyFalseFunction()" value="false">No</mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>

<!--    Poverty table-->
    <div style="overflow-x:auto;" *ngIf="isPovertyChange">
        <form [formGroup]="form5">
            <table mat-table [dataSource]="dataSource6" class="mat-elevation-z8" formArrayName="povertyChange">
                <!-- Row definitions -->
                <tr mat-header-row *matHeaderRowDef="displayColumns5"></tr>
                <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns5;"></tr>

                <!-- Column definitions -->
                <ng-container matColumnDef="sl">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Serial' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index;">
                        {{i + 1}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="goals">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Goals' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="goals">
                        </mat-form-field>
                        <div *ngIf="!isGoalsValidate && !rows5.getRawValue()[i].goals" class="text-red">Goals is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="targets">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Targets' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="targets">
                        </mat-form-field>
                        <div *ngIf="!isTargetValidate && !rows5.getRawValue()[i].targets" class="text-red">Target is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="indicator">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Indicator' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="indicator">
                        </mat-form-field>
                        <div *ngIf="!isIndicatorValidate && !rows5.getRawValue()[i].indicator" class="text-red">Indicator is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="attachment">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Attachment' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">

                        <div>
                            <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                <label>{{row.value.attachmentName}}</label>
                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile5($event.target.files, i)" [accept]="'.pdf'"
                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                <mat-icon matSuffix>folder</mat-icon>
                            </mat-form-field>

                            <div *ngIf="!isAttachmentValidate && !rows5.getRawValue()[i].attachmentId" class="text-red">Attachment is required</div>

                            <button [disabled]="spinner" *ngIf="this.form5.value.povertyChange[i].attachmentId" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Download Attachment" (click)="download(i, 'poverty')" color="primary">file_download</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Action' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="buttons">
                            <button class="toggle-sidebar-folded"
                                    mat-icon-button
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Add New" (click)="addRow5()" color="primary">add</mat-icon>
                            </button>

                            <button *ngIf="!canUpdate5"  mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon  matTooltip="Delete" (click)="openDialog(i, 'deleteFromCurrentRow', 'poverty')" color="warn">delete</mat-icon>
                            </button>

                            <button *ngIf="canUpdate5" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Delete" (click)="openDialog(i, 'deleteFromDB', 'poverty')" color="warn">delete</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

            </table>
        </form>
    </div>

    <div fxLayout="row wrap">
        <div fxFlex.xs="100%" fxFlex.sm="100%" class="form-header1">
            <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                <p class="tab-form-header">{{'NAV.Gender' | translate}}</p>
            </div>
        </div>

        <div fxFlex.xs="100%" fxFlex.sm="100%" class="padding2">
            <div fxLayout="column" fxLayoutAlign="space-between center">
                <mat-radio-group [(ngModel)]="genderTrue">
                    <mat-radio-button (click)="genderTrueFunction()" value="true">Yes</mat-radio-button>
                    <mat-radio-button (click)="genderFalseFunction()" value="false">No</mat-radio-button>
                </mat-radio-group>
            </div>
        </div>
    </div>

<!--    Gender table-->
    <div style="overflow-x:auto;" *ngIf="isGenderChange">
        <form [formGroup]="form6">
            <table mat-table [dataSource]="dataSource7" class="mat-elevation-z8" formArrayName="genderChange">
                <!-- Row definitions -->
                <tr mat-header-row *matHeaderRowDef="displayColumns6"></tr>
                <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns6;"></tr>

                <!-- Column definitions -->
                <ng-container matColumnDef="sl">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Serial' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index;">
                        {{i + 1}}
                    </td>
                </ng-container>


                <ng-container matColumnDef="goals">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Goals' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="goals">
                        </mat-form-field>
                        <div *ngIf="!isGoalsValidate && !rows6.getRawValue()[i].goals" class="text-red">Goals is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="targets">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Targets' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="targets">
                        </mat-form-field>
                        <div *ngIf="!isTargetValidate && !rows6.getRawValue()[i].targets" class="text-red">Target is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="indicator">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Indicator' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">
                        <mat-form-field class="fuse-mat-dense flex-auto">
                            <input matInput type="text" value="" formControlName="indicator">
                        </mat-form-field>
                        <div *ngIf="!isIndicatorValidate && !rows6.getRawValue()[i].indicator" class="text-red">Indicator is required</div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="attachment">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Attachment' | translate}}</th>
                    <td mat-cell *matCellDef="let row; let i = index" [formGroupName]="i">

                        <div>
                            <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                <label>{{row.value.attachmentName}}</label>
                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile6($event.target.files, i)" [accept]="'.pdf'"
                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                <mat-icon matSuffix>folder</mat-icon>
                            </mat-form-field>
                            <div *ngIf="!isAttachmentValidate && !rows6.getRawValue()[i].attachmentId" class="text-red">Attachment is required</div>

                            <button [disabled]="spinner" *ngIf="this.form6.value.genderChange[i].attachmentId" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Download Attachment" (click)="download(i, 'gender')" color="primary">file_download</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef>{{'NAV.Action' | translate}}</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                        <div class="buttons">
                            <button class="toggle-sidebar-folded"
                                    mat-icon-button
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Add New" (click)="addRow6()" color="primary">add</mat-icon>
                            </button>

                            <button *ngIf="!canUpdate6"  mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon  matTooltip="Delete" (click)="openDialog(i, 'deleteFromCurrentRow', 'gender')" color="warn">delete</mat-icon>
                            </button>

                            <button *ngIf="canUpdate6" mat-icon-button class="toggle-sidebar-folded"
                                    fxHide.lt-lg>
                                <mat-icon matTooltip="Delete" (click)="openDialog(i, 'deleteFromDB', 'gender')" color="warn">delete</mat-icon>
                            </button>

                        </div>
                    </td>
                </ng-container>

            </table>
        </form>
    </div>

    <div>
        <br /><br /><br />
        <div fxLayout="row wrap" fxLayoutAlign="end" *ngIf="canEdit">
            <button class="mr-2" mat-flat-button color="accent" type="button" (click)="back()">Back
            </button>
            <button [disabled]="spinner" class="mr-2" *ngIf="!canUpdateLinkage" mat-flat-button color="primary" type="button"
                (click)="saveAndNext()">{{'Save&Next' | translate}}</button>
            <button [disabled]="spinner" class="mr-2" *ngIf="!canUpdateLinkage" mat-flat-button style="background-color: green; color: #FFFFFF" type="button"
                    (click)="saveAndExit()">{{'Save&Exit' | translate}}</button>
            <button [disabled]="spinner" class="mr-2" *ngIf="canUpdateLinkage" mat-flat-button color="primary" type="button"
                (click)="update(true)">{{'Save&Next' | translate}}</button>
            <button [disabled]="spinner" class="mr-2" *ngIf="canUpdateLinkage" mat-flat-button style="background-color: green; color: #FFFFFF" type="button"
                (click)="update(false)">{{'Save&Exit' | translate}}</button>
<!--            <button mat-flat-button style="background-color: green; color: #FFFFFF" type="button"-->
<!--                    (click)="nextTab()">{{'Next' | translate}}</button>-->
        </div>
    </div>
</div>
