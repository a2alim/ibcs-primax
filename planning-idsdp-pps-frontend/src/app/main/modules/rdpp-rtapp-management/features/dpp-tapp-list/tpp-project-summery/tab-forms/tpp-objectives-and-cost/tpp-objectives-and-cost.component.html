<!--========================= transaction loader spinner ===================-->
<div *ngIf="spinner">
    <app-common-loader-spinner></app-common-loader-spinner>
</div>
<!--========================= /// transaction loader spinner ================-->

<div class="body">
    <form [formGroup]="frmGroup" name="frmGroup">
        <div>
            <!-- projectTitle Div start -->
            <div class="md:flex">
                <div
                    class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:text-left pr-2 leading-10"
                >
                    <span [innerHTML]="'ProjectTitle_1' | translate"></span>
                </div>
                <div class="w-full sm:w-auto md:w-3/4 lg:w-3/4">
                    <mat-form-field [ngClass]="formFieldHelpers" class="w-full readOnly">
                        <input formControlName="projectTitleEn" id="projectTitleEn" matInput readonly required />
                        <mat-error *ngIf="frmGroup.get('projectTitleEn').hasError('customError')">
                            {{ frmGroup.get('projectTitleEn').errors.customError.value }}
                        </mat-error>
                    </mat-form-field>
                </div>
            </div>

            <!-- projectTitle 2 Div start -->
            <div class="md:flex">
                <div
                    class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:text-left pr-2 leading-10"
                >
                    {{ "ProjectTitle_2" | translate }}
                </div>
                <div class="w-full sm:w-auto md:w-3/4 lg:w-3/4 readOnly">
                    <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                        <input autocomplete="off" matInput readonly formControlName="projectTitleBn"/>
                    </mat-form-field>
                </div>
            </div>

            <!-- MinistryDivision Div start -->
            <div class="md:flex">
                <div
                    class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:text-left pr-2 leading-10"
                >
                    {{ "MinistryDivision" | translate }}
                </div>
                <div class="w-full sm:w-auto md:w-3/4 lg:w-3/4">
                    <mat-form-field
                        [ngClass]="formFieldHelpers"
                        class="w-full readOnly"
                    >
                        <input autocomplete="off" id="" matInput readonly formControlName="ministryDivision"/>
                    </mat-form-field>
                </div>
            </div>

            <!-- ImplementingAgency Div start -->
            <div class="md:flex">
                <div
                    class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:text-left pr-2 leading-10"
                >
                    {{ "ImplementingAgency" | translate }}
                </div>
                <div class="w-full sm:w-auto md:w-3/4 lg:w-3/4">
                    <mat-form-field
                        [ngClass]="formFieldHelpers"
                        class="w-full readOnly"
                    >
                        <input
                            autocomplete="off"
                            id=""
                            matInput
                            placeholder=""
                            readonly
                            formControlName="implementingAgency"
                        />
                    </mat-form-field>
                </div>
            </div>

            <!-- ConcernedDivision Div start -->
            <div class="md:flex">
                <div
                    class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:text-left pr-2"
                >
                    <span [innerHTML]="'ConcernedDivision' | translate"></span>
                </div>
                <div class="w-full sm:w-auto md:w-3/4 lg:w-3/4">

                    <mat-form-field class="w-full readOnly">
                        <mat-select formControlName="concernedDivisionId" disabled>
                            <mat-option value="">Select</mat-option>
                            <mat-option *ngFor="let val of concernedDivisionList" [value]=val.id>
                                {{val.sectorDivisionNameEn}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="frmGroup.get('concernedDivisionId').hasError('customError')">
                            {{ frmGroup.get('concernedDivisionId').errors.customError.value }}
                        </mat-error>
                    </mat-form-field>

                    <!-- <mat-form-field class="w-full">
                        <input
                            type="text"
                            matInput
                            [formControl]="myControl"
                            [matAutocomplete]="auto"
                        />
                        <mat-autocomplete
                            #auto="matAutocomplete"
                            [displayWith]="displayFn"
                            formControlName="concernedDivisionId"
                        >
                            <mat-option
                                *ngFor="let option of filteredOptions | async"
                                [value]="option"
                            >
                                {{ option.name }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field> -->
                </div>
            </div>

            <!-- ObjectivesAndTargets Div start -->
            <div class="md:flex ck-editor-header">
                <span [innerHTML]="'ObjectivesAndTargets' | translate"></span>
            </div>
            <div class="md:flex">
                <div class="w-full" style="position: relative;">
                    <div class="custom-file-upload-div">
                        <label for="file-upload4" class="custom-file-upload">
                        <mat-icon class="custom-image-icon">image</mat-icon>
                        </label>
                         <input #file4 type="file" accept='image/*'
                            (change)="uploadImageAsBase64(file4.files,'objectivesTargets')"  id="file-upload4" />
                    </div>

                    <ckeditor formControlName="objectivesTargets"></ckeditor>
                </div>
            </div>

            <br>
            <!-- Development_Partners Div start -->
            <!-- <div class="md:flex">
                <div
                    class="w-full sm:w-auto md:w-1/3 lg:w-1/3 md:text-left pr-2 leading-10"
                >
                    {{ "Development_Partners" | translate }}
                </div>
                <div class="w-full sm:w-auto md:w-2/3 lg:w-2/3">
                    <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                        <mat-select multiple formControlName="developmentPartnerId">
                            <mat-option value="AARDO">AARDO</mat-option>
                            <mat-option value="ACIAR">ACIAR</mat-option>
                            <mat-option value="asianDevelopmentBank">Asian Development Bank</mat-option>
                            <mat-option value="Australia">Australia</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div> -->

            <div class="md:flex ck-editor-header">
                {{ "Development_Partners" | translate }}
            </div>

            <div class="md:flex" style="border: 1px solid #d6cece; padding: 10px;">
                    <!--Table Start-->
                    <table class="mat-elevation-z8 devPartnerTbl" width="100%" border="1">
                        <thead>
                            <tr>
                                <th>{{'SERIAL_NO' | translate}}</th>
                                <th>{{'Development_Partners' | translate}}</th>
                                <th>{{'ModeOfFinance' | translate}}</th>
                                <th>{{'PA' | translate}}</th>
                                <th>{{'RPA' | translate}}</th>
                                <th>{{'Attachment' | translate}}</th>
                                <th>{{'ACTION' | translate}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <ng-container formArrayName="devPartnerlist" >
                                <ng-container *ngFor="let formRows of devPartnerlist.controls; let i = index" [formGroupName]="i">
                                <tr>
                                    <td style="text-align: center;">
                                        {{i + 1}}
                                    </td>
                                    <td>
                                        <mat-form-field class="w-full">
                                            <mat-select formControlName="devPartnerId">
                                                <mat-option [value]=""> --- Select ---
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let data of developmentPartnersList"
                                                    [value]=data.id>
                                                    {{data.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field class="w-full">
                                            <mat-select formControlName="modeFinanceId">
                                                <mat-option [value]=""> --- Select ---
                                                </mat-option>
                                                <mat-option
                                                    *ngFor="let data of modeFinanceTypeList"
                                                    [value]=data.id>
                                                    {{data.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field class="w-full">
                                            <input TwoDigitDecimalNumber formControlName="paTotalAmount" appearance="outline"
                                                autocomplete="off" matInput>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field class="w-full">
                                            <input TwoDigitDecimalNumber formControlName="rpaAmount" appearance="outline"
                                                autocomplete="off" matInput>
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <div class="buttons">
                                            <mat-form-field class="fuse-mat-dense flex-auto " >
                                                <ngx-mat-file-input formControlName="attachmentId" (change)="uploadFile($event.target.files, i)" [accept]="'.pdf'"
                                                                    placeholder="Basic outline placeholder"></ngx-mat-file-input>
                                                <mat-icon matSuffix>folder</mat-icon>
                                            </mat-form-field>

                                            <div *ngIf="formRows.controls.attachmentId.value" mat-icon-button class="cursor toggle-sidebar-folded"
                                                    fxHide.lt-lg>
                                                <mat-icon matTooltip="Download Attachment" (click)="download(formRows.controls.attachmentId.value)" color="primary">file_download</mat-icon>
                                            </div>

                                        </div>
                                    </td>
                                    <td>
                                        <div class="buttons">
                                            <div class="cursor toggle-sidebar-folded"
                                                    mat-icon-button
                                                    fxHide.lt-lg>
                                                    <mat-icon (click)="addDevPRow()" color="primary">add</mat-icon>
                                            </div>

                                            <div mat-icon-button class="cursor toggle-sidebar-folded"
                                                    fxHide.lt-lg>
                                                <mat-icon (click)="deleteDevPRow(i)" color="warn">delete</mat-icon>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                </ng-container>
                            </ng-container>
                        </tbody>
                    </table>
            </div>
            <br>

            <div>
                <div class="md:flex ck-editor-header">
                    {{ "ProjectImpPeriod" | translate }}
                </div>
                <mat-card class="p-5 mb-5">
                    <!-- DateCommencement1 Div -->
                    <mat-card>
                        <div class="md:flex">
                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3 md:text-left pr-2 md:pt-3">
                                <span [innerHTML]="'OriginalVersion' | translate"></span>&nbsp;&nbsp;
                            </div>

                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3 md:text-left pr-2 md:pt-3">
                                <span [innerHTML]="'versionDateCommentment' | translate"></span>
                            </div>

                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3">
                                <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                    <!-- <input matInput type="date" value="" formControlName="dateCommencement"> -->

                                    <input (click)="picker11.open()" (dateChange)="setMinDateValue($event)"
                                           [matDatepicker]="picker11"
                                           [max]="maxDateValue"
                                           disabled="true"
                                           matInput
                                           readonly value="{{originalCommencementDate}}">
                                    <mat-datepicker-toggle [for]="picker11" matSuffix></mat-datepicker-toggle>
                                    <mat-datepicker #picker11></mat-datepicker>
                                </mat-form-field>
                            </div>

                            <!-- DateCommencement2 Div -->
                            <div class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:pl-3 md:mt-3">
                                <span [innerHTML]="'versionDateComplesion' | translate"></span>
                            </div>
                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3">
                                <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                    <!-- <input matInput type="date" value="" formControlName="dateCompletion"> -->
                                    <input (click)="picker12.open()" (dateChange)="setMaxDateValue($event)"
                                           [matDatepicker]="picker12"
                                           [min]="minDateValue"
                                           disabled="true"
                                           matInput
                                           readonly value="{{originalCompletionDate}}">
                                    <mat-datepicker-toggle [for]="picker12" matSuffix></mat-datepicker-toggle>
                                    <mat-datepicker #picker12></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                    </mat-card>
                    <br>
                    <!-- DateCommencement1 Div -->
                    <mat-card *ngFor="let date of dateList; let i = index">
                        <div class="md:flex">
                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3 md:text-left pr-2 md:pt-3">
                                <span>{{date.revisedVersion}}</span>
                            </div>

                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3 md:text-left pr-2 md:pt-3">
                                <span [innerHTML]="'versionDateCommentment' | translate"></span>
                            </div>

                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3">
                                <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                    <input (click)="picker21.open()" (dateChange)="setMinDateValue($event)"
                                           [matDatepicker]="picker21"
                                           [max]="maxDateValue"
                                           disabled="true"
                                           matInput
                                           readonly value="{{date.dateCommencement}}">
                                    <mat-datepicker-toggle [for]="picker21" matSuffix></mat-datepicker-toggle>
                                    <mat-datepicker #picker21></mat-datepicker>
                                </mat-form-field>
                            </div>

                            <!-- DateCommencement2 Div -->
                            <div class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:pl-3 md:mt-3">
                                <span [innerHTML]="'versionDateComplesion' | translate"></span>
                            </div>
                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3">
                                <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                    <input (click)="picker22.open()" (dateChange)="setMaxDateValue($event)"
                                           [matDatepicker]="picker22"
                                           [min]="minDateValue"
                                           disabled="true"
                                           matInput
                                           readonly value="{{date.dateCompletion}}">
                                    <mat-datepicker-toggle [for]="picker22" matSuffix></mat-datepicker-toggle>
                                    <mat-datepicker #picker22></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                    </mat-card>
                    <br>
                    <!-- DateCommencement1 Div -->
                    <mat-card>
                        <div class="md:flex">
                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3 md:text-left pr-2 md:pt-3">
                                <span>{{revisedVersion}}</span>
                            </div>
                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3 md:text-left pr-2 md:pt-3">
                                <span [innerHTML]="'DateCommencement1' | translate"></span>
                            </div>

                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3">
                                <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                    <input (click)="picker31.open()" (dateChange)="setMinDateValue($event)"
                                           [matDatepicker]="picker31"
                                           [max]="maxDateValue"
                                           formControlName="dateCommencement"
                                           matInput readonly
                                           disabled="true">
                                    <mat-datepicker-toggle [for]="picker31" matSuffix></mat-datepicker-toggle>
                                    <mat-datepicker #picker31></mat-datepicker>
                                </mat-form-field>
                            </div>

                            <!-- DateCommencement2 Div -->
                            <div class="w-full sm:w-auto md:w-1/4 lg:w-1/4 md:pl-3 md:mt-3">
                                <span [innerHTML]="'DateCommencement2' | translate"></span>
                            </div>
                            <div class="w-full sm:w-auto md:w-1/3 lg:w-1/3">
                                <mat-form-field [ngClass]="formFieldHelpers" class="w-full">
                                    <input (click)="picker32.open()" (dateChange)="setMaxDateValue($event)"
                                           [matDatepicker]="picker32"
                                           [min]="minDateValue"
                                           formControlName="dateCompletion"
                                           matInput readonly>
                                    <mat-datepicker-toggle [for]="picker32" matSuffix></mat-datepicker-toggle>
                                    <mat-datepicker #picker32></mat-datepicker>
                                </mat-form-field>
                            </div>
                        </div>
                    </mat-card>
                </mat-card>


                <!-- designationContactPerson Div start -->
                <!--<div class="md:flex ck-editor-header">
                    {{ "DesignationContactPerson" | translate }}
                </div>
                <div class="md:flex">
                    <div class="w-full" style="position: relative;">

                        <div class="custom-file-upload-div">
                            <label for="file-upload2" class="custom-file-upload">
                                <mat-icon class="custom-image-icon">image</mat-icon>
                            </label>
                            <input #file2 type="file" accept='image/*'
                                   (change)="uploadImageAsBase64(file2.files,'designationContactPerson')"
                                   id="file-upload2"/>
                        </div>


                        <ckeditor formControlName="designationContactPerson"></ckeditor>
                    </div>
                </div>

                <br>

                &lt;!&ndash; ResponsiblePreparation Div start &ndash;&gt;
                <div class="md:flex ck-editor-header">
                    {{ "ResponsiblePreparation" | translate }}
                </div>
                <div class="md:flex">
                    <div class="w-full" style="position: relative;">

                        <div class="custom-file-upload-div">
                            <label for="file-upload1" class="custom-file-upload">
                                <mat-icon class="custom-image-icon">image</mat-icon>
                            </label>
                            <input #file1 type="file" accept='image/*'
                                   (change)="uploadImageAsBase64(file1.files,'responsiblePreparation')"
                                   id="file-upload1"/>
                        </div>

                        <ckeditor formControlName="responsiblePreparation"></ckeditor>
                    </div>
                </div>


                <br>

                &lt;!&ndash; developmentPartner Div start &ndash;&gt;
                <div class="md:flex ck-editor-header">
                    {{ "DevelopmentPartner" | translate }}
                </div>
                <div class="md:flex">
                    <div class="w-full" style="position: relative;">

                        <div class="custom-file-upload-div">
                            <label for="file-upload0" class="custom-file-upload">
                                <mat-icon class="custom-image-icon">image</mat-icon>
                            </label>
                            <input #file0 type="file" accept='image/*'
                                   (change)="uploadImageAsBase64(file0.files,'developmentPartner')" id="file-upload0"/>
                        </div>

                        <ckeditor formControlName="developmentPartner"></ckeditor>
                    </div>
                </div>-->
            </div>

            <br>

            <!-- EstimatedCost Div start -->
            <div class="sub-heading">
                <span class="inline-block align-middle">
                    {{ "EstimatedCost" | translate }}
                </span>
                ({{"According2" | translate}}
                <a [innerHTML]="'YearWiseEstimatedCostInfo' | translate" class="AnnexureLink"
                   (click)="navigateToAnnualPhasingCost()">
                </a>)
            </div>

            <mat-card class="p-5 mb-5">
                <div class="md:flex">
                    <div class="w-full">
                        <table id="estCostTbl">
                            <tr>
                                <th rowspan="2"></th>
                                <ng-container  *ngFor="let estimatedCost of estimatedCosts; let i=index">
                                    <th *ngIf="(estimatedCosts.length-1)>i"
                                        [attr.rowspan]="!estimatedCost?.revisedVersion?.includes('Difference') ? '2' : 1"
                                        [colSpan]="estimatedCost?.revisedVersion?.includes('Difference') ? '2' : 0">
                                        {{ estimatedCost.revisedVersion }}
                                    </th>
                                </ng-container>
                            </tr>
                            <tr>
                                <th>Total in Taka</th>
                                <th>In Percentage %</th>
                            </tr>
                            <tr>
                                <td>1</td>
                                <td *ngFor="let estimatedCost of estimatedCosts; let i=index">{{ i+2 }}</td>
                            </tr>
                            <tr>
                                <td>{{ "Total" | translate }}</td>
                                <td *ngFor="let estimatedCost of estimatedCosts">{{ estimatedCost.totalAmount }}</td>
                            </tr>
                            <tr>
                                <td>
                                    <span [innerHTML]="'GoB_FE' | translate"></span>
                                </td>
                                <td *ngFor="let estimatedCost of estimatedCosts">
                                    {{estimatedCost.gobAmount}}
                                    <br/>
                                    ({{estimatedCost.gobFeAmount}})
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <span [innerHTML]="'PA_RPA' | translate"></span>
                                </td>
                                <td *ngFor="let estimatedCost of estimatedCosts">
                                    {{estimatedCost.paAmount}}
                                    <br/>
                                    ({{convertToNumber(estimatedCost.gobThruAmount)+convertToNumber(estimatedCost.spAcAmount)}})
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <span [innerHTML]="'OwnFund' | translate"></span>
                                </td>
                                <td *ngFor="let estimatedCost of estimatedCosts">
                                    {{estimatedCost.ownFundAmount}}
                                    <br/>
                                    ({{estimatedCost.ownFundFeAmount}})
                                </td>
                            </tr>

                            <tr>
                                <td>
                                    <span [innerHTML]="'OthersFE' | translate"></span>
                                </td>
                                <td *ngFor="let estimatedCost of estimatedCosts">
                                    {{estimatedCost.otherAmount}}
                                    <br/>
                                    ({{estimatedCost.otherFeAmount}})
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </mat-card>

            <!-- ExchangeRate Div start -->
            <div class="sub-heading">
                    <span class="inline-block align-middle">
                        {{ "ExchangeRate" | translate }}
                    </span>
            </div>

            <mat-card class="p-5 mb-5">
                <form [formGroup]="form">
                    <table id="exchangeTbl" mat-table [dataSource]="exchangeDataSource2" class="mat-elevation-z8"
                            formArrayName="scope">
                        <!-- Row definitions -->
                        <tr mat-header-row *matHeaderRowDef="displayColumns"></tr>
                        <tr mat-row *matRowDef="let row; let i = index; columns: displayColumns;"></tr>

                        <!-- Column definitions -->
                        <ng-container matColumnDef="sl">
                            <th mat-header-cell *matHeaderCellDef>{{'SERIAL_NO' | translate}}</th>
                            <td mat-cell *matCellDef="let element; let i = index;">
                                {{i + 1}}
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="exchangeCurrency">
                            <th mat-header-cell *matHeaderCellDef>{{'Exchange_Currency' | translate}}</th>
                            <td mat-cell *matCellDef="let row; let rowIndex = index" [formGroupName]="rowIndex">
                                <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                    <mat-select formControlName="exchangeCurrency">
                                        <mat-option value="">Select</mat-option>
                                        <mat-option *ngFor="let type of currencyList" [value]=type.id>
                                            {{type.name}}
                                        </mat-option>
                                    </mat-select>

                                </mat-form-field>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="exchangeRate">
                            <th mat-header-cell *matHeaderCellDef>{{'Exchange_Rate' | translate}}</th>
                            <td mat-cell *matCellDef="let row; let rowIndex = index" [formGroupName]="rowIndex">
                                <mat-form-field class="fuse-mat-dense flex-auto mt-5">
                                    <input TwoDigitDecimalNumber matInput  formControlName="exchangeRate" oninput="validity.valid||(value='');">
                                </mat-form-field>
                            </td>
                        </ng-container>


                        <ng-container matColumnDef="exchangeDate">
                            <th mat-header-cell *matHeaderCellDef>{{'Exchange_Date' | translate}}</th>
                            <td mat-cell *matCellDef="let row; let rowIndex = index" [formGroupName]="rowIndex">
                                <mat-form-field class="fuse-mat-dense flex-auto  mt-5">

                                    <!-- <input matInput type="date" value="" formControlName="exchangeDate"> -->

                                    <input (click)="picker4.open()"
                                        [matDatepicker]="picker4"
                                        formControlName="exchangeDate" matInput
                                        readonly required>
                                    <mat-datepicker-toggle [for]="picker4" matSuffix>
                                    </mat-datepicker-toggle>
                                    <mat-datepicker #picker4></mat-datepicker>

                                </mat-form-field>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef>{{'ACTION' | translate}}</th>
                            <td mat-cell *matCellDef="let element; let i = index">
                                <div class="buttons">
                                    <div class="toggle-sidebar-folded"
                                            mat-icon-button
                                            fxHide.lt-lg>
                                        <mat-icon (click)="addRow()" color="primary">add</mat-icon>
                                    </div>

                                    <div mat-icon-button class="toggle-sidebar-folded"
                                            fxHide.lt-lg>
                                        <mat-icon (click)="deleteRow(i)" color="warn">delete</mat-icon>
                                    </div>
                                </div>
                            </td>
                        </ng-container>

                    </table>
                </form>
            </mat-card>


            <!-- ModeFinancing Div start -->
            <div class="flex flex-col flex-auto min-w-0">
                <!-- Main -->
                <div class="sub-heading">
                    <span class="inline-block align-middle">
                        {{ "ModeFinancing" | translate }}
                    </span>
                    ({{"According2" | translate}}
                    <a [innerHTML]="'YearWiseEstimatedCostInfo' | translate" class="AnnexureLink"
                       (click)="navigateToAnnualPhasingCost()">
                    </a>)

                </div>

                <mat-card class="p-5 mb-5">
                <div class="overflow-x-auto sm:overflow-y-auto" cdkScrollable>
                    <table id="modeFinanceTbl">
                        <tr>
                            <th rowspan="2">
                                <span [innerHTML]="'Sourcefinancing' | translate"></span>
                            </th>
                            <th rowspan="2" style="width: 162px;">
                                <span [innerHTML]="'EquivalentAmount' | translate"></span>
                            </th>
                            <th colspan="2">{{ "InCash" | translate }}</th>
                            <th rowspan="2">{{ "Total" | translate }}</th>
                            <th rowspan="2">
                                <span [innerHTML]="'FinancingLoan' | translate"></span>
                            </th>
                        </tr>
                        <tr>
                            <th>{{ "Local" | translate }}</th>
                            <th>{{ "FE" | translate }}</th>
                        </tr>

                        <tr>
                            <td>
                                {{ "GOB_V" | translate }}
                            </td>
                            <td style="width: 150px;">
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off" id="gobEA" formControlName="gobEA"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()"  autocomplete="off"  formControlName="gobLocal"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="gobFe"/>
                            </td>

                            <td>
                                <input autocomplete="off" id="total_14" readonly class="readOnlyField" formControlName="gobTotal"/>
                            </td>

                            <td>
                                <input autocomplete="off" value="" placeholder="Source of the Amount"  formControlName="gobSource"/>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                {{ "Development" | translate }}
                            </td>
                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="developmentEA"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="developmentLocal"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="developmentFe"/>
                            </td>

                            <td>
                                <input autocomplete="off" id="total_24" readonly class="readOnlyField"  formControlName="developmentTotal"/>
                            </td>

                            <td>
                                <input autocomplete="off" value="" placeholder="Source of the Amount"  formControlName="developmentSource"/>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                {{ "OwnFund2" | translate }}
                            </td>
                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="ownFundEA"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="ownFundLocal"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="ownFundFe"/>
                            </td>

                            <td>
                                <input autocomplete="off" id="total_34" readonly class="readOnlyField"  formControlName="ownFundTotal"/>
                            </td>

                            <td>
                                <input autocomplete="off" value="" placeholder="Source of the Amount"  formControlName="ownFundSource"/>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                {{ "OthersSpecify" | translate }}
                            </td>
                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="othersSpecifyEA"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="othersSpecifyLocal"/>
                            </td>

                            <td>
                                <input TwoDigitDecimalNumber (input)="calculateAmount()" autocomplete="off"  formControlName="othersSpecifyFe"/>
                            </td>

                            <td>
                                <input autocomplete="off" id="total_44" readonly class="readOnlyField"  formControlName="othersSpecifyTotal"/>
                            </td>

                            <td>
                                <input autocomplete="off" value="" placeholder="Source of the Amount"  formControlName="othersSpecifySource"/>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                {{ "GrandTotal" | translate }}
                            </td>
                            <td>
                                <input autocomplete="off" id="grandTotal_1" readonly class="readOnlyField" formControlName="grandTotalEa" />
                            </td>

                            <td>
                                <input autocomplete="off" id="grandTotal_2" readonly class="readOnlyField" formControlName="grandTotalLocal" />
                            </td>

                            <td>
                                <input autocomplete="off" id="grandTotal_3" readonly class="readOnlyField" formControlName="grandTotalFe" />
                            </td>

                            <td>
                                <input autocomplete="off" id="grandTotal_4" readonly class="readOnlyField" formControlName="grandTotalTotal" />
                            </td>

                            <td>

                            </td>
                        </tr>
                    </table>
                </div>
                </mat-card>
            </div>
        </div>
        <div class="flex justify-end mt-8">

            <button
                mat-flat-button
                [color]="'primary'"
                type="submit"
                [disabled]="spinner"
                (click)="onSubmit('next')"
                class="px-8 mr-2 toggle-sidebar-folded"
                matTooltip="Save & Next">
            Save & Next
            </button>

            <button
                mat-flat-button
                style="background-color: green; color: #FFFFFF"
                type="submit"
                [disabled]="spinner"
                (click)="onSubmit('list')"
                class="px-8 mr-2 toggle-sidebar-folded"
                matTooltip="Save & Exit">
            Save & Exit
            </button>

            <button
                class="px-8 mr-2 toggle-sidebar-folded"
                matTooltip="Next"
                mat-flat-button
                style="background-color: green; color: #FFFFFF"
                matStepperNext
                type="button">
                Next
            </button>

        </div>
    </form>
</div>
