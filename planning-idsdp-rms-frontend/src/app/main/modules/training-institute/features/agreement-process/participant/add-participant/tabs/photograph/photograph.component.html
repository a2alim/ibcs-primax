<div class="heading mt-2">
    <h1>{{'cardHeader0_1' | translate}}</h1>
</div>
<mat-card class="tab-color">

    <!-- Row 10-->
    <div class="md:flex">
        <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
            <span class="text-gray-700">
                {{'uploadImage' | translate}}
                <strong class="required">*</strong>
            </span>
        </div>
        <div class="w-full sm:w-auto md:w-30 lg:w-30">
            <mat-form-field (change)="uploadFile($event.target.files,'profile_image'); picReset = true;" class="w-full"
                required>
                <span class="overflow-hidden">{{ isEditable && !picReset ? newParticipantModel?.image?.fileName : ''
                    }}</span>
                <!--                {{ newParticipantModel?.image?.fileName ? ((newParticipantModel?.image?.fileName.length > 15) ?-->
                <!--                newParticipantModel?.image?.fileName.substr(0, 15) : newParticipantModel?.image?.fileName) : ''}}-->
                <ngx-mat-file-input [(ngModel)]="profImage" [ngModelOptions]="{standalone: true}"
                    [accept]="'image/png, image/jpeg'" required>
                </ngx-mat-file-input>
                <mat-icon matSuffix>folder</mat-icon>
                <mat-hint>{{ 'imgHint' | translate }}</mat-hint>
                <mat-error> {{'uploadImage' | translate}} {{ 'required' | translate }}</mat-error>
            </mat-form-field>
        </div>

        <!-- <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
            <span class="text-gray-700">
                           {{'nidNo' | translate}}
                        </span>
        </div>
        <div class="w-full sm:w-auto md:w-30 lg:w-30">
            <mat-form-field class="w-full">
                <input #nid_number="ngModel" [(ngModel)]="newParticipantModel.nidNo" [ngModelOptions]="{standalone: true}" matInput type="number">
                <mat-hint *ngIf="nid_number.dirty && !(nid_number.value | nid_number)" style="color: crimson !important;">
                    <span style="text-transform: none;">Invalid Number. Please provide a valid 10 digit, 13 digit or 17 digit number.</span> {{ 'required' | translate }}
                </mat-hint>
            </mat-form-field>
        </div>-->
    </div>
    <div class="md:flex">

        <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
            <span class="text-gray-700">
                {{'nidNo' | translate}}
            </span>
        </div>
        <div class="w-full sm:w-auto md:w-30 lg:w-30">
            <mat-form-field class="w-full">
                <input #nid_number="ngModel" [(ngModel)]="newParticipantModel.nidNo"
                    [ngModelOptions]="{standalone: true}" matInput type="number">
                <mat-hint *ngIf="nid_number.dirty && !(nid_number.value | nid_number)"
                    style="color: crimson !important;">
                    <span style="text-transform: none;">Invalid Number. Please provide a valid 10 digit, 13 digit or 17
                        digit number.</span> {{ 'required' | translate }}
                </mat-hint>
            </mat-form-field>
        </div>


        <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
            <span class="text-gray-700">
                {{'uploadNid' | translate}}
                <!--                            <strong class="required">*</strong>-->
            </span>
        </div>
        <div class="w-full sm:w-auto md:w-30 lg:w-30">
            <mat-form-field (change)="uploadFile($event.target.files,'nid_image'); picReset2 = true;" class="w-full">
                {{ isEditable && !picReset2 ? newParticipantModel?.nidImage?.fileName : '' }}

                <ngx-mat-file-input [accept]="'.*'">
                </ngx-mat-file-input>
                <mat-icon matSuffix>folder</mat-icon>
                <mat-hint>{{ 'imgHint' | translate }}</mat-hint>
                <mat-error>File is {{ 'required' | translate }}</mat-error>
            </mat-form-field>
        </div>

    </div>
</mat-card>

<!-- Bottom Button -->
<div class="flex justify-end mt-8">
    <button (click)="previousTab()" class="px-3 mr-2 toggle-sidebar-folded" mat-flat-button
        style="background: #4c72c7 !important;color: white;" type="button">
        <mat-icon *ngIf="previousIcon" class="mr-1">{{previousIcon}}</mat-icon>
        {{ "previous" | translate }}
    </button>

    <button (click)="saveAndUpdate()"
        [disabled]="(newParticipantModel.image === undefined) ||  (!(newParticipantModel.nidNo | nid_number) && (newParticipantModel.nidNo != undefined))"
        class="px-3 mr-2 toggle-sidebar-folded saveAndNextBtn" color="primary" mat-flat-button type="button">
        <mat-icon *ngIf="saveIcon" class="mr-1">{{saveIcon}}</mat-icon>
        <span>{{ isEditable ? ("update" | translate) : ("save" | translate) }}</span>
    </button>
</div>