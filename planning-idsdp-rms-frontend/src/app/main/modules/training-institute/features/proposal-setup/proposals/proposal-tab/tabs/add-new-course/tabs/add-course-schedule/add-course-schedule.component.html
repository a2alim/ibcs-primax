<div class="heading mt-2">
    <h1>{{'cardHeader1_t3_1' | translate}}</h1>
</div>
<mat-card class="tab-color">
    <form [formGroup]="form">
        <!-- Row 10-->
        <div class="md:flex">
            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                <span class="text-gray-700">
                            {{'session' | translate}}
                <strong class="required">*</strong>
                        </span>
            </div>
            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                <!-- <mat-form-field class="w-full">
                        <input [(ngModel)]="courseSchedule.session" [ngModelOptions]="{standalone: true}" matInput required>
                        <mat-error>{{'session' | translate}} {{ 'required' | translate }}</mat-error>
                    </mat-form-field> -->
                <mat-form-field class="w-full">
                    <input formControlName="session" matInput required>
                    <mat-error *ngIf="form.invalid">{{'session' | translate}} {{ 'required' | translate }}</mat-error>
                </mat-form-field>
            </div>


            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                <span class="text-gray-700">
                                   {{'speaker' | translate}}<strong class="required">*</strong>
                                </span>
            </div>
            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                <mat-form-field class="w-full">
                    <mat-select formControlName="speakers" multiple required>
                        <mat-option *ngFor="let speaker of speakerList" [value]="speaker.id">{{speaker.name}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="form.invalid"> {{'speaker' | translate}} {{ 'required' | translate }}</mat-error>
                </mat-form-field>
                <!-- <mat-form-field class="w-full">
                        <mat-select [(ngModel)]="courseSchedule.speakers" [formControl]="toppings" multiple required>
                            <mat-option *ngFor="let speaker of speakerList" [value]="speaker.id">{{speaker.name}}</mat-option>
                        </mat-select>
                        <mat-error> {{'speaker' | translate}} {{ 'required' | translate }}</mat-error>
                    </mat-form-field> -->
            </div>

            <!--        <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">-->
            <!--                        <span class="text-gray-700">-->
            <!--                           {{'speaker' | translate}}<strong class="required">*</strong>-->
            <!--                        </span>-->
            <!--        </div>-->
            <!--        <div class="w-full sm:w-auto md:w-30 lg:w-20">-->
            <!--            <mat-form-field class="w-full">-->
            <!--                <input matInput [ngModelOptions]="{standalone: true}" [(ngModel)]="courseSchedule.speakers">-->
            <!--                <mat-error>Applicant age {{ 'required' | translate }}</mat-error>-->
            <!--            </mat-form-field>-->
            <!--        </div>-->


        </div>
        <div class="md:flex">
            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                <span class="text-gray-700">
                           {{'topic' | translate}}<strong class="required">*</strong>
                        </span>
            </div>
            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                <mat-form-field class="w-full">
                    <input formControlName="topic" matInput required>
                    <mat-error *ngIf="form.invalid">{{'topic' | translate}} {{ 'required' | translate }}</mat-error>
                </mat-form-field>
                <!-- <mat-form-field class="w-full">
                        <input [(ngModel)]="courseSchedule.topic" [ngModelOptions]="{standalone: true}" matInput required>
                        <mat-error>{{'topic' | translate}} {{ 'required' | translate }}</mat-error>
                    </mat-form-field> -->
            </div>
            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                <span class="text-gray-700">
                            {{'date' | translate}}
                <strong class="required">*</strong>
                        </span>
            </div>
            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                <mat-form-field class="w-full" class="example-form-field" style="width: 99%;">

                    <input formControlName="date" [matDatepicker]="datepicker" matInput name="date" required>
                    <mat-datepicker-toggle [for]="datepicker" matSuffix></mat-datepicker-toggle>
                    <mat-datepicker #datepicker>
                    </mat-datepicker>
                    <mat-error *ngIf="form.invalid"> {{'date' | translate}} is required</mat-error>
                </mat-form-field>

                <!-- <mat-form-field class="w-full" class="example-form-field" style="width: 99%;">

                        <input [(ngModel)]="courseSchedule.date" [matDatepicker]="datepicker" matInput name="date" required>
                        <mat-datepicker-toggle [for]="datepicker" matSuffix></mat-datepicker-toggle>
                        <mat-datepicker #datepicker>

                        </mat-datepicker>
                        <mat-error> {{'date' | translate}} is required</mat-error>
                    </mat-form-field> -->
            </div>
        </div>
        <!-- <div class="md:flex">

    </div> -->
        <div class="md:flex">


            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                <span class="text-gray-700">
                           {{'day' | translate}}<strong class="required">*</strong>
                        </span>
            </div>
            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                <mat-form-field class="w-full">
                    <input formControlName="day" placeholder="Ex: Sunday, Monday" matInput required>
                    <mat-error *ngIf="form.invalid">{{'day' | translate}} {{ 'required' | translate }}</mat-error>
                </mat-form-field>
            </div>

            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                <span class="text-gray-700">
                           {{'time' | translate}}<strong class="required">*</strong>
                        </span>
            </div>
            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                <!-- Time (Exa: 5:00-6.00 pm) * -->
                <mat-form-field class="w-full">
                    <input formControlName="time" matInput required>
                    <mat-error *ngIf="form.invalid">{{'time' | translate}} {{ 'required' | translate }}</mat-error>
                </mat-form-field>
            </div>
        </div>

        <div class="flex justify-end mt-8">

            <button (click)="addSchedule()" [disabled]="form.invalid" class="px-3 mr-2 toggle-sidebar-folded saveBtn" color="primary" mat-flat-button style="background-color: green; color: #FFFFFF" type="submit">
            <mat-icon *ngIf="addNewIcon" class="mr-1">{{addNewIcon}}</mat-icon>
            <span>{{  courseSchedule.id ? ("Edit" | translate) : ("add_more" | translate) }}</span>
        </button>

        </div>
    </form>
</mat-card>

<!-- Data Table -->
<div class="flex flex-col bg-card shadow rounded overflow-x-auto sm:overflow-y-auto my-4">
    <!--<mat-card>-->
    <div cdkScrollable class="overflow-x-auto sm:overflow-y-auto">
        <table [dataSource]="dataSource" class="mat-elevation-z8 w-full" mat-table>
            <!-- Position Column -->
            <ng-container matColumnDef="session">
                <th *matHeaderCellDef class="w-16" mat-header-cell> {{'session' | translate}} </th>
                <td *matCellDef="let element" mat-cell> {{element.session}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="speaker">
                <th *matHeaderCellDef mat-header-cell> {{'speaker' | translate}} </th>
                <td *matCellDef="let element" mat-cell> <span [innerHTML]="getSpeakers(element.speakers)" ></span> </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="topic">
                <th *matHeaderCellDef mat-header-cell> {{'topic' | translate}} </th>
                <td *matCellDef="let element" mat-cell> {{element.topic}} </td>
            </ng-container>

            <ng-container matColumnDef="date">
                <th *matHeaderCellDef mat-header-cell> {{'date' | translate}} </th>
                <td *matCellDef="let element" mat-cell> {{convertDate(element.date)}} </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="day">
                <th *matHeaderCellDef mat-header-cell> {{'day' | translate}} </th>
                <td *matCellDef="let element" mat-cell> {{element.day}} </td>
            </ng-container>

            <ng-container matColumnDef="time">
                <th *matHeaderCellDef mat-header-cell> {{'time' | translate}} </th>
                <td *matCellDef="let element" mat-cell> {{element.time}} </td>
            </ng-container>


            <!-- Action Column -->
            <ng-container matColumnDef="action">
                <th *matHeaderCellDef class="pl-4 w-32" mat-header-cell> {{'action' | translate}} </th>
                <td *matCellDef="let element" class="text-center" mat-cell>
                    <div class="buttons">
                        <!--<button (click)="editSchedule(element.id)" class="toggle-sidebar-folded" fxHide.lt-lg mat-icon-button matTooltip="Edit">
                            <mat-icon color="accent">edit
                            </mat-icon>
                        </button>-->
                        <button (click)="deleteSchedule(element.id)" class="toggle-sidebar-folded" fxHide.lt-lg mat-icon-button matTooltip="visibility">
                            <mat-icon color="warn">delete
                            </mat-icon>
                        </button>
                    </div>
                </td>
            </ng-container>

            <!-- Initialized Table Header And Dataset-->
            <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
            <tr *matRowDef="let row; columns: displayedColumns;" mat-row></tr>
        </table>
    </div>
    <!-- mat-paginator -->
    <!--<mat-paginator
            [length]="total"
            [pageSize]="size"
            [pageSizeOptions]="[5, 10, 25, 100]"
            (page)="onChangePage($event)">
    </mat-paginator>-->
</div>

<!-- Bottom Button -->
<div class="flex justify-end mt-8">
    <button (click)="previousTab()" [color]="'primary'" class="px-3 mr-2 toggle-sidebar-folded previousBtn" mat-flat-button type="submit">
        <mat-icon *ngIf="previousIcon" class="mr-1">{{previousIcon}}</mat-icon>
        {{ "previous" | translate }}
    </button>

    <button (click)="saveAndUpdate(false)" class="px-3 mr-2 toggle-sidebar-folded saveBtn" color="primary" mat-flat-button style="background-color: green; color: #FFFFFF" type="submit">
        <mat-icon *ngIf="saveIcon" class="mr-1">{{saveIcon}}</mat-icon>

        <ng-container *ngIf="courseScheduleId != 'null'"> <span>{{ isEditable ? ( "update" | translate ) :  ("save" | translate) }}</span></ng-container>
        <ng-container *ngIf="courseScheduleId === 'null'"> <span>{{("save" | translate) }}</span></ng-container>

    </button>

    <button (click)="saveAndUpdate(true)" class="px-3 mr-2 toggle-sidebar-folded saveAndNextBtn" color="primary" mat-flat-button type="button">
        <mat-icon *ngIf="saveIcon" class="mr-1">{{saveIcon}}</mat-icon>

        <ng-container *ngIf="courseScheduleId != 'null'"><span *ngIf="isEditable"> {{  "update_and_view" | translate  }}</span></ng-container>
        <ng-container *ngIf="courseScheduleId === 'null'"> <span >{{ "save_and_view" | translate }}</span></ng-container>


    </button>


</div>
