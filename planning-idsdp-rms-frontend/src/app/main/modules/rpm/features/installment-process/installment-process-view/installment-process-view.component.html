<div class="width-100">
    <div *ngIf="spinner" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin"></div>
    </div>
    <!-- Header -->
    <app-form-header [title]="'headerTitle' | translate" [subTitle]="'headerSubTitle' | translate"></app-form-header>

    <div *ngIf="spinner2" class="flex items-center justify-center">
        <div class="absolute z-40 top-40 animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"></div>
    </div>

    <!-- Main Start -->
    <div class="flex-auto m-7 body-color">
        <mat-card class="tab-color mt-4">

            <div class="flex flex-col bg-card shadow rounded overflow-hidden">
                <div class="heading">
                    <div class="md:flex">
                        <div class="w-full sm:w-auto md:w-50 lg:w-50">
                            <!-- <h1 class="md:mt-2"> {{'details' | translate}}</h1>  -->
                            <!-- {{tabData.personalInfo.userId}} -->
                        </div>
                        <div class="w-full sm:w-auto md:w-50 lg:w-50">
                            <div class="flex md:justify-end">
                                <button
                                    class="px-3 mr-2 previousIcon"
                                    mat-flat-button
                                    color="accent"
                                    (click)="back()"
                                    type="button">
                                    <mat-icon *ngIf="previousIcon" class="mr-1">{{previousIcon}}</mat-icon>
                                    {{'previous' | translate}}
                                </button>
                                <button [disabled]="spinner2" (click)="download('installmentProcessView')" class="px-3 mr-2 downloadBtn"
                                    mat-flat-button color="accent" type="button">
                                    <mat-icon *ngIf="downloadIcon" class="mr-1">{{downloadIcon}}</mat-icon>
                                    {{'download' | translate}}
                                </button>

<!--
                                <button [disabled]="spinner2"
                                        class="px-3 mr-2 downloadBtn"
                                        mat-flat-button
                                        color="accent"
                                        (click)="downloadFile()"
                                        type="button">
                                    <mat-icon *ngIf="downloadIcon" class="mr-1">{{downloadIcon}}</mat-icon>
                                    {{'download' | translate}}
                                </button> -->

                                <!--                                <button-->
                                <!--                                    class="px-3 printBtn"-->
                                <!--                                    mat-flat-button-->
                                <!--                                    color="accent"-->
                                <!--                                    (click)="print()"-->
                                <!--                                    type="button">-->
                                <!--                                    <mat-icon *ngIf="printIcon" class="mr-1">{{printIcon}}</mat-icon>-->
                                <!--                                    {{'print' | translate}}-->
                                <!--                                </button>-->
                                <button
                                    [useExistingCss]="true"
                                    printTitle="Installment-Process"
                                    class="px-3 printBtn"
                                    mat-flat-button
                                    color="accent"
                                    printSectionId="print" ngxPrint
                                    type="button">
                                    <mat-icon *ngIf="printIcon" class="mr-1">{{printIcon}}</mat-icon>
                                    {{'print' | translate}}
                                </button>


                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card Body -->
            <div id="print">
                <div class="border3 form-bg-color">
                    <div class="md:flex p-4">
                        <div class="w-full sm:w-auto md:w-full lg:w-full">
                            <table class="tbl-details">
                                <tr>
                                    <th style="width: 183px;" *ngIf="data.installmentProcesses"><h1>{{'resTitle' | translate}}</h1></th>
                                    <td>{{data.installmentProcesses.m1ResearcherProposalId.researchTitle}}</td>
                                </tr>

<!--                                <tr>-->
<!--                                    <th *ngIf="data.installmentProcesses"><h1>{{'insType' |translate}}</h1></th>-->
<!--                                    <td>{{data.installmentType.installmentType}}</td>-->
<!--                                </tr>-->

                                <tr>
                                    <th *ngIf="data.installmentProcesses"><h1>{{'insType' |translate}}</h1></th>
                                    <td>
                                        <ng-container *ngFor="let data of installmentTypeProcess(data.installmentProcesses.installmentTypes)">
                                            <span>
                                                {{data.installment}} , {{data.percentage}}% , {{data.amount}} Tk
                                            </span>
                                            <br/>
                                        </ng-container>


                                    </td>
                                </tr>

                                <tr>
                                    <th *ngIf="data.installmentProcesses"><h1>{{'parcentage_amount'|translate}}</h1></th>
                                    <td>{{data.installmentProcesses.percentageAmount}}</td>
                                </tr>

                                <tr>
                                    <th *ngIf="data.installmentProcesses"><h1>{{'amountTk'|translate}}</h1></th>
                                    <td>{{data.installmentProcesses.tkAmount}}</td>
                                </tr>

                                <tr>
                                    <th *ngIf="data.installmentProcesses"><h1>{{'installment_date' |translate}}</h1></th>
                                    <td>{{data.installmentProcesses.installmentDate |date: 'dd-MM-yyyy' }}</td>
                                </tr>

                                <tr>
                                    <th *ngIf="data.installmentProcesses"><h1>{{'subject' |translate}}</h1></th>
                                    <td>{{data.installmentProcesses.subject}}</td>
                                </tr>

                                <tr>
                                    <th *ngIf="data.installmentProcesses"><h1>{{'mail_body' |translate}}</h1></th>
                                    <td [innerHTML]="data?.installmentProcesses?.mailBody"></td>
                                </tr>

                                <!--                            <tr>-->
                                <!--                                <th *ngIf="allTabData.tabOne.secondPage"><h1>Second Page</h1></th>-->
                                <!--                            </tr>-->
                                <!--                            <tr>-->
                                <!--                                <td [innerHTML]="allTabData?.tabOne?.secondPage"></td>-->
                                <!--                            </tr>-->

                                <!--                            <tr>-->
                                <!--                                <th *ngIf="allTabData.tabOne.thirdPage"><h1>Third Page</h1></th>-->
                                <!--                            </tr>-->
                                <!--                            <tr>-->
                                <!--                                <td [innerHTML]="allTabData?.tabOne?.thirdPage"></td>-->
                                <!--                            </tr>-->

                                <!--                            <tr>-->
                                <!--                                <th *ngIf="allTabData.tabOne.fourthPage"><h1>Fourth Page</h1></th>-->
                                <!--                            </tr>-->
                                <!--                            <tr>-->
                                <!--                                <td [innerHTML]="allTabData?.tabOne?.fourthPage"></td>-->
                                <!--                            </tr>-->

                                <!--                            <tr>-->
                                <!--                                <th>Download Signature File</th>-->
                                <!--                            </tr>-->

                                <!--                            <tr *ngFor="let f of allTabData?.tabFive">-->
                                <!--                                &lt;!&ndash; <td>{{f.fileDownloadUrlSignature}}</td> &ndash;&gt;-->
                                <!--                                <th>{{f.fileTitle}}</th>-->
                                <!--                                <td>-->
                                <!--                                    <button-->
                                <!--                                        class="px-3 mr-2 successBtn"-->
                                <!--                                        mat-flat-button-->
                                <!--                                        color="accent"-->
                                <!--                                        (click)="downloadFile()"-->
                                <!--                                        type="button">-->
                                <!--                                        <mat-icon *ngIf="pdfIcon" class="mr-1">{{pdfIcon}}</mat-icon>-->
                                <!--                                        {{'download' | translate}}-->
                                <!--                                    </button>-->
                                <!--                                </td>-->
                                <!--                            </tr>-->
                            </table>
                        </div>
                    </div>
                </div>


                <div class="flex flex-col bg-card shadow rounded overflow-hidden">
                    <div class="heading">
                        <div class="md:flex">
                            <div class="w-full sm:w-auto md:w-50 lg:w-50">
                                <!-- <h1 class="md:mt-2"> {{'details' | translate}}</h1>  -->
                                <!-- {{tabData.personalInfo.userId}} -->
                                <h3 class="md:mt-2">{{'expenditureItems' |translate}}<span> </span></h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border3 form-bg-color">
                    <div class="md:flex p-4">
                        <div class="w-full sm:w-auto md:w-full lg:w-full">
                            <table class="tbl-details">

                                <tr>
                                    <th><span>{{ "sl_no" | translate }}</span></th>
                                    <th><span>{{ "tab_2_title" | translate }}</span></th>
                                    <th><span>{{ "purpose" | translate }}</span></th>
                                    <th><span>{{ "t_amount" | translate }}</span></th>
                                    <th><span>{{ "ex_amount" | translate }}</span></th>
                                    <th><span>{{ "rec_amount" | translate }}</span></th>
                                </tr>


                                <tr *ngFor="let edu of data?.expenditureList;let i=index">
                                    <td class="text-center">{{i + 1}}</td>
                                    <td>{{edu.expenditureItemName}}</td>
                                    <td>{{edu.purpose}}</td>
                                    <td>{{edu.totalAmount}}</td>
                                    <td>{{edu.expenseAmount}}</td>
                                    <td>{{edu.receivableAmount}}</td>


                                </tr>

                                <tr class="bold">
                                    <td></td>
                                    <td></td>
                                    <td><span>{{ "total" | translate }}</span></td>
                                    <td>{{total}}</td>
                                    <td>{{expense}}</td>
                                    <td>{{receivable}}</td>
                                </tr>


                            </table>
                        </div>
                    </div>
                </div>


                <div class="flex flex-col bg-card shadow rounded overflow-hidden">
                    <div class="heading">
                        <div class="md:flex">
                            <div class="w-full sm:w-auto md:w-50 lg:w-50">
                                <!-- <h1 class="md:mt-2"> {{'details' | translate}}</h1>  -->
                                <!-- {{tabData.personalInfo.userId}} -->
                                <h3 class="md:mt-2">{{'BillVoucherImage'|translate}}<span> </span></h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="border3 form-bg-color">
                    <div class="md:flex p-4">
                        <div class="w-full sm:w-auto md:w-full lg:w-full">
                            <table class="tbl-details">
                                <tr>
                                    <th style="width: 140px;" *ngIf="data.vouchers">{{'file_title'|translate}}</th>
                                    <th *ngIf="data.vouchers">{{'downloadFile'|translate}}</th>
                                </tr>
                                <tr *ngFor="let v of data?.vouchers">
                                    <td>{{v?.fileTitle}}</td>
                                    <td>
                                        <button
                                            class="px-3 mr-2 successBtn"
                                            mat-flat-button
                                            color="accent"
                                            (click)="downloadFiles(v.fileDownloadUrlSignature)"
                                            type="button">
                                            <mat-icon *ngIf="pdfIcon" class="mr-1">{{pdfIcon}}</mat-icon>
                                            {{'download' | translate}}
                                        </button>
                                    </td>
                                </tr>


                            </table>
                        </div>
                    </div>
                </div>

            </div>
            <div class="flex justify-end mt-3">
                <button
                    class="px-5 previous-button"
                    mat-flat-button
                    color="accent"
                    (click)="back()"
                    type="button">
                    <mat-icon *ngIf="previousIcon" class="mr-1">{{previousIcon}}</mat-icon>
                    {{'previous' | translate}}
                </button>
            </div>
        </mat-card>

    </div>
    <!-- Main End -->
</div>



