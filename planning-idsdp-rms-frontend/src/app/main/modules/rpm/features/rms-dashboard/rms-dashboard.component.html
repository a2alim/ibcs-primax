<div style="width: 100%">
    <!-- Header -->
    <app-form-header [title]="'headerTitle' | translate" [subTitle]="'headerSubTitle' | translate"></app-form-header>

    <div *ngIf="spinner" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>
    <div class="flex-auto m-4 mt-0 body-color">
        <mat-card id="profileOuterBody" class="tab-color mt-4">
            <div class="md:flex">
                <div class="w-10 md:text-left pr-2 md:pt-3">
                    <span class="text-gray-700">
                        {{'FiscalYear' | translate}}<strong class="required">*</strong>
                    </span>
                </div>

                <mat-form-field class="w-20">
                    <mat-select placeholder="Select One" (selectionChange)="selectedFiscalYear($event.value)">
                        <mat-option value="-1">All</mat-option>
                        <mat-option *ngFor="let item of fiscalYears" [value]="item.id">{{item.fiscalYear}}</mat-option>
                    </mat-select>
                    <mat-error>Required!</mat-error>
                </mat-form-field>
            </div>

            <div class="flex-auto mt-4">
                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                    <mat-label class="heading w-full">
                        {{'ResearchStatus' | translate}}
                    </mat-label>
                </div>
                <mat-card class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-6 xl:grid-cols-6 gap-2">
                    <mat-card style="background-color: #44A16C;" class="p-2 sm:pt-4 rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #44A16C; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.completedResearchCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p>{{'CompletedResearch' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #FF782A;" class="p-2 sm:pt-4 rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #FF782A; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.ongoingResearchCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'OngoingResearch' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #FF6D66;" class="p-2 sm:pt-4 rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #FF6D66; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.cancelledResearchCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'CancelledResearch' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #B162D0;" class="p-2 sm:pt-4 rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #B162D0; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.defaulterResearchCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'DefaulterResearch' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #4679EE;" class="p-2 sm:pt-4 rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #4679EE; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.researchProposalCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'SubmittedProposal' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #888785;" class="p-2 sm:pt-4 rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #888785; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.cancelledProposalCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'CancelledProposal' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                </mat-card>
            </div>

            <!--For Pi-Chart and Bangladesh Map-->
            <!-- <div class="grid grid-cols-1 gap-3 sm:grid-cols-2 flex-auto">
                <div class="flex-auto mt-4">
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <mat-label class="heading w-full">
                            {{'CategoryWishTotalResearch' | translate}}
                        </mat-label>
                    </div>
                    <mat-card class="w-full flex-auto">
                        <div id="chart">
                            <apx-chart
                                [series]="chartOptions.series"
                                [chart]="chartOptions.chart"
                                [labels]="chartOptions.labels"
                                [responsive]="chartOptions.responsive"
                            ></apx-chart>
                        </div>
                    </mat-card>
                </div>
                <div class="flex-auto mt-4">
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <mat-label class="heading w-full">
                            {{'ResearchArea'| translate}}
                        </mat-label>
                    </div>
                    <mat-card class="w-full flex-auto">
                        <img src="assets/images/Bangladesh.png">
                    </mat-card>
                </div>
            </div> -->
            <!--//For Pi-Chart and Bangladesh Map-->

            <!--For Training Institutes Status-->
            <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
                <div class="flex-auto mt-4">
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <mat-label class="heading w-full">
                            {{'TrainingInstitutesStatus' | translate}}
                        </mat-label>
                    </div>
                    <mat-card class="text-sm">
                        <div class="cardList">
                            <div class="flex justify-between text-centre shadow-lg shadow-md shadow-sm"
                                 style="background-color: #F7F3D4; height: 76px">
                                <div style="padding-top: 25px;">
                                    <p style="margin-left: 20px; font-weight: 800"> {{'TotalInstitute' | translate}}</p>
                                </div>
                                <div class="pt-4 pr-4 text-centre">
                                    <p class="training-inst-status rounded-full flex justify-center items-center"
                                       style="background-color: #82B979;">{{rmsDashboardData?.totalInstituteCount}}</p>
                                </div>
                            </div>
                            <div class="flex justify-between text-centre shadow-lg shadow-md shadow-sm"
                                 style="background-color: #F7F3D4; height: 76px">
                                <div style="padding-top: 25px;">
                                    <p style="margin-left: 20px; font-weight: 800"> {{'Cancelled'| translate}} </p>
                                </div>
                                <div class="pt-4 pr-4 text-centre">
                                    <p class="training-inst-status rounded-full flex justify-center items-center"
                                       style="background-color: #FFAF52;">{{rmsDashboardData?.approveInstituteCount}}</p>
                                </div>
                            </div>
                            <div class="flex justify-between text-centre shadow-lg shadow-md shadow-sm"
                                 style="background-color: #F7F3D4; height: 76px">
                                <div style="padding-top: 25px;">
                                    <p style="margin-left: 20px; font-weight: 800">Pending</p>
                                </div>
                                <div class="pt-4 pr-4 text-centre">
                                    <p class="training-inst-status rounded-full flex justify-center items-center"
                                       style="background-color: #82AFE3;">{{rmsDashboardData?.unapprovedInstituteCount}}</p>
                                </div>
                            </div>

                        </div>
                    </mat-card>
                </div>

                <div class="flex-auto mt-4">
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <mat-label class="heading w-full">
                            {{'Training Institutes' | translate}}
                        </mat-label>
                    </div>
                    <mat-card>
                        <div class="example-container mat-elevation-z8">
                            <table mat-table [dataSource]="dataSource" style="text-align: center">

                                <!-- Position Column -->
                                <ng-container matColumnDef="position">
                                    <th mat-header-cell *matHeaderCellDef> {{'No'| translate}} .</th>
                                    <td mat-cell *matCellDef="let element; let i = index"> {{i + 1}} </td>
                                </ng-container>

                                <!-- Name Column -->
                                <ng-container matColumnDef="name">
                                    <th mat-header-cell *matHeaderCellDef> {{'InstitutesName'| translate}} </th>
                                    <td mat-cell *matCellDef="let element"> {{element.name}} </td>
                                </ng-container>

                                <!-- Weight Column -->
                                <ng-container matColumnDef="weight">
                                    <th mat-header-cell *matHeaderCellDef> {{'TotalParticipant' | translate}}</th>
                                    <td mat-cell *matCellDef="let element"> {{element.weight}} </td>
                                </ng-container>

                                <!-- Symbol Column -->
                                <ng-container matColumnDef="symbol">
                                    <th mat-header-cell *matHeaderCellDef> {{'Completed' | translate}} </th>
                                    <td mat-cell *matCellDef="let element"> {{element.symbol}} </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                        </div>
                    </mat-card>
                </div>
            </div>

            <!--//For Training Institutes Status-->
            <div class="flex-auto mt-4">
                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                    <mat-label class="heading w-full">
                        {{'GrandStatus' | translate}}
                    </mat-label>
                </div>
                <mat-card class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 xl:grid-cols-4 gap-2 shadow">
                    <mat-card style="background-color: #44A16C;" class="rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #44A16C; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.grantAcceptedCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'Accepted' | translate}} </p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #FF782A;" class="rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #FF782A; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.grantQueryCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'Query' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #FF6D66;" class="rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #FF6D66; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.grantPendingCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'Pending' | translate}} </p>
                            </div>
                        </div>
                    </mat-card>
                    <mat-card style="background-color: #B162D0;" class="rounded-lg shadow-2xl">
                        <div class="grid grid-cols-2 gap-1 flex justify-center items-center">
                            <div class="rounded-full flex justify-center items-center"
                                 style="background: white; width: 55px; height: 55px;">
                                <div style="color: #B162D0; font-size: 25px; padding: 5px; font-weight: 800">
                                    <span>{{rmsDashboardData?.grantRejectedCount}}</span>
                                </div>
                            </div>
                            <div class="text-sm flex-auto"
                                 style="color: white; font-size: 14px; padding: 2px; font-weight: 800;">
                                <p> {{'Rejected' | translate}}</p>
                            </div>
                        </div>
                    </mat-card>
                </mat-card>
            </div>
            <div class="flex-auto mt-4">
                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                    <mat-label class="heading w-full">
                        {{'CompletedResearchSDGsWise' | translate}}
                    </mat-label>
                </div>

                <mat-card>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-x-3 gap-y-2">
                        <div *ngFor="let data of rmsDashboardData?.sdgsWiseResearchResponseList; let i= index">
                            <div class="text-sm flex-auto" style="background-color: #EBEBEB">
                                <div class="flex justify-between items-center" style="padding: 5px">
                                    <div
                                        style="margin-left: 10px;font-weight: 500;">
                                        <p>{{data.sdgsName}}</p>
                                    </div>
                                    <div class="text-centre mr-3">
                                        <p class="training-inst-status rounded-full flex justify-center items-center"
                                           [id]="'SDGs_' +i" style="font-weight: 500 !important;font-size: 20px;"
                                        >{{data.totalResearchCount}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-card>
            </div>
        </mat-card>
    </div>
</div>
