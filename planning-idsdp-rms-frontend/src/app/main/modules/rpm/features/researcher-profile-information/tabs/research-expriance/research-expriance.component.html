<div class="body">

    <div class="md:flex">

        <div class="inline-block mt-2">
            <input type="radio" [value]="2" id="_graduationResultSelectPoint_" name="_graduationResultSelectPoint_"
                [ngModelOptions]="{standalone: true}" [(ngModel)]="isApplicable" (change)="radioChange(isApplicable)">
            <label>&nbsp;{{'Applicable' | translate}}</label>
        </div>

        <div class="inline-block mt-2 ml-5">
            <input type="radio" [value]="1" id="_graduationResultSelectPoint_" name="_graduationResultSelectPoint_"
                [ngModelOptions]="{standalone: true}" [(ngModel)]="isApplicable" (change)="radioChange(isApplicable)">
            <label>&nbsp;{{'Notapplicable' | translate}}</label>
        </div>

    </div>
    <form name="frmGroup" #myForm="ngForm">
        <ng-container *ngIf="isApplicable==2">

            <!-- Form Body -->
            <div class="flex justify-end">
                <div class="addMoreBtn" mat-raised-button color="primary" (click)="addNewForm()">
                    <mat-icon *ngIf="addNewIcon" class="mr-1" style="color:#f3efe8">{{addNewIcon}}</mat-icon>
                    {{'add_more' | translate}}
                </div>
            </div>

            <!-- CARD ONE-->
            <div *ngFor="let researchExprienceFormModel of researchExprienceFormModelList; let i = index">
                <ngContent *ngIf="!researchExprienceFormModel.isDeleted">

                    <div class="heading mt-2">
                        <div class="md:flex">
                            <div class="w-full sm:w-auto md:w-80 lg:w-80 ml-2 md:text-left pr-2 md:pt-3">
                                {{'tab_6_title' | translate}}
                            </div>
                            <div class="flex w-full justify-end sm:w-auto md:w-20 lg:w-20">
                                <button mat-raised-button color="accent" (click)="deleteFormByIndex(i)">
                                    <mat-icon>delete</mat-icon>
                                </button>
                            </div>

                        </div>
                    </div>

                    <mat-card class="tab-color">
                        <div class="md:flex">
                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                <span class="text-gray-700">
                                    {{'research_topic' | translate}}<strong class="required">*</strong>
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-80 lg:w-80">
                                <mat-form-field class="w-full">
                                    <input #researchTopic="ngModel" matInput [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="researchExprienceFormModel.researchTopic" required>
                                    <mat-hint
                                        *ngIf="(researchTopic.touched || myForm.submitted) && researchTopic.errors?.required"
                                        style="color: crimson !important;">Research topic is required!
                                    </mat-hint>
                                </mat-form-field>
                            </div>
                        </div>

                        <!-- Row 2-->
                        <div class="md:flex">

                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left md:pt-3">
                                <span class="text-gray-700">
                                    {{'research_year' | translate}}<strong class="required">*</strong>
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                                <mat-form-field class="w-full">
                                    <input type="number" #researchYear="ngModel" matInput
                                        [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="researchExprienceFormModel.researchYear" required>
                                    <mat-hint
                                        *ngIf="(researchYear.touched || myForm.submitted) && researchYear.errors?.required"
                                        style="color: crimson !important;">Research year is required!
                                    </mat-hint>
                                </mat-form-field>
                            </div>

                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                <span class="text-gray-700">
                                    {{'is_foreign' | translate}}
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-30 lg:w-30 md:mt-3">
                                <mat-checkbox class="example-margin" [(ngModel)]="researchExprienceFormModel.isForeign"
                                    [ngModelOptions]="{standalone: true}">
                                </mat-checkbox>
                            </div>

                        </div>
                        <!-- Row 3-->
                        <div class="md:flex">

                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                <span class="text-gray-700">
                                    {{'research_status' | translate}}<strong class="required">*</strong>
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                                <mat-form-field class="w-full">

                                    <mat-select #researchStatus="ngModel" placeholder="Select One"
                                        [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="researchExprienceFormModel.researchStatus" required>
                                        <mat-option value="">Select One</mat-option>
                                        <mat-option value="On-Going">On-Going</mat-option>
                                        <mat-option value="Completed">Completed</mat-option>
                                    </mat-select>

                                    <mat-hint
                                        *ngIf="(researchStatus.touched || myForm.submitted) && researchStatus.errors?.required"
                                        style="color: crimson !important;">Research status is required!
                                    </mat-hint>

                                </mat-form-field>
                            </div>

                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                <span class="text-gray-700">
                                    {{'research_value_in_BDT' | translate}}<strong class="required">*</strong>
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                                <mat-form-field class="w-full">
                                    <input #researchValueInBDT="ngModel" type="number" matInput
                                        [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="researchExprienceFormModel.researchValueInBDT" required>
                                    <mat-hint
                                        *ngIf="(researchValueInBDT.touched || myForm.submitted) && researchValueInBDT.errors?.required"
                                        style="color: crimson !important;">Research grant (BDT) is required!
                                    </mat-hint>
                                </mat-form-field>
                            </div>

                        </div>

                        <!-- Row 4-->
                        <div class="md:flex">

                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                <span class="text-gray-700">
                                    {{'funding_organization' | translate}}<strong class="required">*</strong>
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                                <mat-form-field class="w-full">
                                    <input #fundingOrganization="ngModel" matInput [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="researchExprienceFormModel.fundingOrganization" required>
                                    <mat-hint
                                        *ngIf="(fundingOrganization.touched || myForm.submitted) && fundingOrganization.errors?.required"
                                        style="color: crimson !important;">Funding organization is required!
                                    </mat-hint>
                                </mat-form-field>
                            </div>

                            <ng-container *ngIf="researchExprienceFormModel.researchStatus=='On-Going'">
                                <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                    <span class="text-gray-700">
                                        {{'current_research_experience' | translate}}
                                    </span>
                                </div>

                                <div class="w-full sm:w-auto md:w-30 lg:w-30">
                                    <mat-form-field class="w-full">
                                        <input type="number" matInput [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="researchExprienceFormModel.totalResearchExp">
                                    </mat-form-field>
                                </div>
                            </ng-container>

                            <ng-container *ngIf="researchExprienceFormModel.researchStatus=='Completed'">
                                <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                    <span class="text-gray-700">
                                        {{'total_research_exp' | translate}}
                                    </span>
                                </div>

                                <div class="w-full sm:w-auto md:w-30 lg:w-30">
                                    <mat-form-field class="w-full">
                                        <input type="number" matInput [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="researchExprienceFormModel.totalResearchExp">
                                    </mat-form-field>
                                </div>
                            </ng-container>

                        </div>


                        <!-- Row 5-->
                        <div class="md:flex">

                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                <span class="text-gray-700">
                                    {{'research_finding_and_importance' | translate}}
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-80 lg:w-80">
                                <ckeditor [ngModelOptions]="{standalone: true}"[config]="mediumEditorConfig"
                                    [(ngModel)]="researchExprienceFormModel.researchFindingAndImportance"
                                    [config]="minEditorConfig">
                                </ckeditor>
                            </div>
                        </div>

                        <div class="md:flex pt-3">

                            <div class="w-full sm:w-auto md:w-20 lg:w-20 ml-2 md:text-left pr-2 md:pt-3">
                                <span class="text-gray-700">
                                    {{'research_objective' | translate}}
                                </span>
                            </div>

                            <div class="w-full sm:w-auto md:w-30 lg:w-30">
                                <mat-form-field (change)="uploadFile($event.target.files,'certificate_image',i)"
                                    class="w-full">
                                    <ngx-mat-file-input [accept]="'.*'">
                                    </ngx-mat-file-input>
                                    <mat-icon matSuffix>folder</mat-icon>
                                    <mat-error>File is {{ 'required' | translate }}</mat-error>
                                    <mat-hint>Document Size Maximum 3MB</mat-hint>
                                    <div *ngIf="imgSpinner" class="flex items-center justify-center">
                                        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
                                            class="absolute top-0 left-1/2 w-12 h-12 border-4 border-blue-400 border-dashed rounded-full animate-spin">
                                        </div>
                                    </div>
                                </mat-form-field>
                                <span class="text-color-green">Uploaded File :
                                </span>{{ImageSpliter(researchExprienceFormModel.fileUploadModel.fileName?researchExprienceFormModel.fileUploadModel.fileName:'')}}
                            </div>
     <mat-hint><div class="fileType"> (Document Type: pdf, doc, jpg, png only)</div></mat-hint>
                        </div>

                    </mat-card>

                </ngContent>
            </div>
        </ng-container>

        <div class="flex justify-end mt-8">

            <button mat-flat-button [color]="'primary'" (click)="previousTab()" type="submit"
                class="px-3 mr-2 toggle-sidebar-folded previousBtn">
                <mat-icon *ngIf="previousIcon" class="mr-1">{{previousIcon}}</mat-icon>
                {{ "previous" | translate }}
            </button>

            <!-- <ng-container *ngIf="isApplicable==2"> -->
                <button mat-flat-button style="background-color: green; color: #FFFFFF" type="submit" (click)="save(isApplicable)"
                    color="primary" class="px-3 mr-2 toggle-sidebar-folded saveBtn">
                    <mat-icon *ngIf="saveIcon" class="mr-1">{{saveIcon}}</mat-icon>
                    <span>{{ "save" | translate }}</span>
                </button>

                <button mat-flat-button (click)="saveAndNext(isApplicable)" type="submit" color="primary"
                    class="px-3 mr-2 toggle-sidebar-folded saveAndNextBtn">
                    <mat-icon *ngIf="saveIcon" class="mr-1">{{saveIcon}}</mat-icon>
                    <span> {{ "save_and_next" | translate }}</span>
                </button>
            <!-- </ng-container> -->

            <button mat-flat-button (click)="nextTab()" style="background-color: green; color: #FFFFFF" type="button"
                color="primary" class="px-3 mr-2 toggle-sidebar-folded nextBtn">
                {{ "next" | translate }}
                <mat-icon *ngIf="nextIcon" class="mr-1">{{nextIcon}}</mat-icon>
            </button>
        </div>
        <!-- Bottom Button -->
    </form>
</div>
