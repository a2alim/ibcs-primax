<div class="width-100">
    <!-- Header -->
    <app-form-header [title]="'headerTitle' | translate" [subTitle]="'headerSubTitle' | translate"></app-form-header>

    <div *ngIf="spinner1" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>
    <div *ngIf="spinner2" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>
    <div *ngIf="spinner3" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>
    <div *ngIf="spinner4" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>
    <div *ngIf="spinner5" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>
    <div *ngIf="spinner6" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>   


    <!-- Main Start -->

    <div class="body m-5">

        <!-- CARD ONE-->
        <div class="width-100" fxLayout="row wrap" fxLayoutAlign="space-between center">
            <mat-label class="heading w-full">
                {{'ResearcherPresentation' | translate}}
            </mat-label>
        </div>
        <mat-card class="tab-color">

            <div class="mt-5">
                <form>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                        <mat-label style="margin-top: -15px" fxFlex="19%" fxFlex.md="30%" fxFlex.sm="40%" fxFlex.xs="100%">
                            {{'ResearchTitle' | translate}}
                            <strong class="required">*</strong>
                        </mat-label>
                        <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="80%" fxFlex.md="70%" fxFlex.sm="60%" fxFlex.xs="100%">
                            <mat-select [(ngModel)]="presentation.m1ResearcherProposalId" [ngModelOptions]="{standalone: true}" (ngModelChange)="onChangeResearchProposal($event)">
                                <mat-option *ngFor="let s of seminarTimeScheduleList" [value]="s.m1ResearcherProposalId.id">{{s.m1ResearcherProposalId.researchTitle}}</mat-option>
                            </mat-select>
                            <mat-error>{{'ResearchTitleReq' | translate}}</mat-error>
                        </mat-form-field>
                        <div fxFlex="1%"></div>
                    </div>

                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">

                        <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                            <div class="pr-4" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="100%">
                                    {{'PresentationType' | translate}}
                                    <strong class="required">*</strong>
                                </mat-label>
                                <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%" fxFlex.sm="60%"
                                                fxFlex.xs="100%">
                                    <mat-select [(ngModel)]="presentation.presentationType" [ngModelOptions]="{standalone: true}">
                                        <mat-option *ngFor="let p of presentationType" [value]="p.id">{{p.typeName}}</mat-option>
                                    </mat-select>
                                    <mat-error>{{'PresentationTypeReq' | translate}}</mat-error>
                                </mat-form-field>
                            </div>
                        </div>

                        <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                            <div class="pr-4" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                <mat-label style="margin-top: -15px" fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="100%">
                                    {{'PresentationStatus' | translate}}
                                    <strong class="required">*</strong>
                                </mat-label>
                                <mat-form-field class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%" fxFlex.sm="60%"
                                                fxFlex.xs="100%">
                                    <mat-select [(ngModel)]="presentation.presentationStatus" [ngModelOptions]="{standalone: true}">
                                        <mat-option *ngFor="let p of presentationStatus" [value]="p.id">{{p.typeName}}</mat-option>
                                    </mat-select>
                                    <mat-error>{{'PresentationStatusReq' | translate}}</mat-error>
                                </mat-form-field>
                            </div>
                        </div>
                    </div>
                </form>

                <br>

                <mat-card *ngIf="selectedProposal">
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">

                        <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                            <div class="pr-4" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                <mat-label fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="100%">
                                    {{'ResearcherName' | translate}}:
                                </mat-label>
                                <p class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%" fxFlex.sm="60%" fxFlex.xs="100%">
                                    {{selectedProposal?.researcherProfilePersonalInfoDto?.userDto?.name}}
                                </p>
                            </div>
                        </div>

                        <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                            <div class="pr-4" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                <mat-label fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="100%">
                                    {{'ResearchCategory' | translate}}:
                                </mat-label>
                                <p class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%" fxFlex.sm="60%" fxFlex.xs="100%">
                                    {{selectedProposal?.researchCategoryType?.categoryName}}
                                </p>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div fxLayout="row wrap" fxLayoutAlign="space-between center">

                        <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                            <div class="pr-4" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                <mat-label fxFlex="40%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="100%">
                                    {{'FiscalYear' | translate}}:
                                </mat-label>
                                <p class="fuse-mat-dense flex-auto" fxFlex="60%" fxFlex.md="60%" fxFlex.sm="60%" fxFlex.xs="100%">
                                    {{selectedProposal?.fiscalYear?.fiscalYear}}
                                </p>
                            </div>
                        </div>
                    </div>
                </mat-card>
            </div>

            <div class="flex justify-end mt-3 mr-2">
                <button
                    class="px-3 mr-2 previousIcon"
                    mat-flat-button
                    color="accent"
                    type="button"
                    (click)="previousTab()">
                    <mat-icon *ngIf="previousIcon" class="mr-1">{{previousIcon}}</mat-icon>
                    {{'Previous' | translate}}
                </button>

                <button
                    mat-flat-button
                    type="submit"
                    [disabled]="saveDisable"
                    (click)="onSubmit()"
                    class="px-3 mr-2 toggle-sidebar-folded save-button">
                    <mat-icon *ngIf="saveIcon" class="mr-1">{{saveIcon}}</mat-icon>
                    <span>{{ "Save" | translate }}</span>
                </button>

                <button
                    *ngIf="presentation?.id"
                    mat-flat-button
                    type="submit"
                    (click)="startPresentation()"
                    color="primary"
                    class="px-3 mr-2 toggle-sidebar-folded saveBtn">
                    <mat-icon class="mr-1">play_arrow</mat-icon>
                    <span>{{ "StartPresentation" | translate }}</span>
                </button>
            </div>

        </mat-card>
    </div>

    <!-- Main End -->
</div>
