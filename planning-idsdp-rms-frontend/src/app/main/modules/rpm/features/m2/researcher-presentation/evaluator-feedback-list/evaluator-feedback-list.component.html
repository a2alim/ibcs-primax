<div class="width-100">
    <!-- Header -->
    <app-form-header [title]="'headerTitle' | translate" [subTitle]="'headerSubTitle' | translate"></app-form-header>

    <div *ngIf="spinner" class="flex items-center justify-center">
        <div style="border-top-color:transparent; position: absolute;z-index: 9999;"
             class="absolute top-1/2 left-1/2 w-16 h-16 border-4 border-blue-400 border-dashed rounded-full animate-spin">
        </div>
    </div>


    <!-- Main Start -->


    <!-- Main Start -->
    <div class="body m-5">

        <!-- CARD ONE-->
        <div class="width-100" fxLayout="row wrap" fxLayoutAlign="space-between center">
            <mat-label class="heading w-full">
                {{'EvaluatorFeedbackList' | translate}}
            </mat-label>
        </div>
        <mat-card class="tab-color">
            <div class="flex md:justify-end md:mr-3 mt-1 mb-5">

                <button class="px-3 mr-2 previousIcon" mat-flat-button color="accent" type="button"
                        (click)="goPrevious()">
                    <mat-icon *ngIf="previousIcon" class="mr-1">{{previousIcon}}</mat-icon>
                    {{'Previous' | translate}}
                </button>

                <button class="px-3 mr-2 printBtn" mat-flat-button color="accent" type="button">
                    <mat-icon *ngIf="printIcon" class="mr-1">{{printIcon}}</mat-icon>
                    {{'Print' | translate}}
                </button>

                <button class="px-3 mr-2 downloadBtn" mat-flat-button color="accent" type="button" >
                    <mat-icon *ngIf="downloadIcon" class="mr-1">{{downloadIcon}}</mat-icon>
                    {{'Download' | translate}}
                </button>
            </div>
            <div class="w-full sm:w-auto md:w-full lg:w-full">

                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                    <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                        <div class="pb-2" fxLayout="row wrap" fxLayoutAlign="space-between center">
                            <mat-label fxFlex="30%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="95%">
                                <strong>{{'ResearcherTitle' | translate}}</strong>
                            </mat-label>
                            <span fxFlex="5%" fxFlex.md="5%" fxFlex.sm="5%" fxFlex.xs="5%"><strong>:</strong></span>
                            <span fxFlex="65%" fxFlex.md="55%" fxFlex.sm="55%" fxFlex.xs="100%">
                                {{proposal?.researchTitle}}
                            </span>
                        </div>
                    </div>

                    <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                        <div class="pb-2" fxLayout="row wrap" fxLayoutAlign="space-between center">
                            <mat-label fxFlex="30%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="95%">
                                <strong>{{'ResearcherName' | translate}}</strong>
                            </mat-label>
                            <span fxFlex="5%" fxFlex.md="5%" fxFlex.sm="5%" fxFlex.xs="5%"><strong>:</strong></span>
                            <span fxFlex="65%" fxFlex.md="55%" fxFlex.sm="55%" fxFlex.xs="100%">
                                {{proposal?.researcherProfilePersonalInfoDto?.userDto?.name}}
                            </span>
                        </div>
                    </div>
                </div>

                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                    <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                        <div class="pb-2" fxLayout="row wrap" fxLayoutAlign="space-between center">
                            <mat-label fxFlex="30%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="95%">
                                <strong>{{'Category' | translate}}</strong>
                            </mat-label>
                            <span fxFlex="5%" fxFlex.md="5%" fxFlex.sm="5%" fxFlex.xs="5%"><strong>:</strong></span>
                            <span fxFlex="65%" fxFlex.md="55%" fxFlex.sm="55%" fxFlex.xs="100%">
                                {{proposal?.researchCategoryType?.categoryName}}
                            </span>
                        </div>
                    </div>

                    <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                        <div class="pb-2" fxLayout="row wrap" fxLayoutAlign="space-between center">
                            <mat-label fxFlex="30%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="95%">
                                <strong>{{'Designation' | translate}}</strong>
                            </mat-label>
                            <span fxFlex="5%" fxFlex.md="5%" fxFlex.sm="5%" fxFlex.xs="5%"><strong>:</strong></span>
                            <span fxFlex="65%" fxFlex.md="55%" fxFlex.sm="55%" fxFlex.xs="100%">
                                {{proposal?.researcherProfilePersonalInfoDto?.designation}}
                            </span>
                        </div>
                    </div>
                </div>

                <div fxLayout="row wrap" fxLayoutAlign="space-between center">
                    <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%">
                        <div class="pb-2" fxLayout="row wrap" fxLayoutAlign="space-between center">
                            <mat-label fxFlex="30%" fxFlex.md="40%" fxFlex.sm="40%" fxFlex.xs="95%">
                                <strong>{{'FiscalYear' | translate}}</strong>
                            </mat-label>
                            <span fxFlex="5%" fxFlex.md="5%" fxFlex.sm="5%" fxFlex.xs="5%"><strong>:</strong></span>
                            <span fxFlex="65%" fxFlex.md="55%" fxFlex.sm="55%" fxFlex.xs="100%">
                                {{proposal?.fiscalYear?.fiscalYear}}
                            </span>
                        </div>
                    </div>

                    <div fxFlex="50%" fxFlex.md="100%" fxFlex.sm="100%" fxFlex.xs="100%"></div>
                </div>
            </div>

            <div class="mt-2">
                <table class="width-100">

                    <tr>
                        <th class="col-1">
                            {{'Sl' | translate}}
                        </th>
                        <th class="col-2">
                            {{'EvaluatorName/Feedback' | translate}}
                        </th>
                        <th class="col-3">
                            {{'ResearcherFeedback' | translate}}
                        </th>
                        <th class="col-4">
                            {{'Completed' | translate}}
                        </th>
                    </tr>

                    <tr *ngFor="let item of feedbackList; let i = index ">

                        <td class="col-1 text-align-centre">{{i + 1}}</td>

                        <td class="col-2">
                            <p><strong>{{item.expertEvaluatorResponseDto?.name}}</strong></p>
                            <p>{{'PageNo' | translate}}: {{item.pageNo1 ? item.pageNo1 : 0}}</p>
                            <p [innerHTML]="item.evaluatorFeedback"></p>
                            <p>{{'Date' | translate}}: {{item['createdOn']}}</p>
<!--                            <div fxLayout="row wrap" fxLayoutAlign="space-between center">-->
<!--                                <button fxFlex="10%" class="editDeleteButton" (click)="onEditEvaluatorFeedback(item)">-->
<!--                                    <mat-icon class="editMatIcon">edit</mat-icon>-->
<!--                                </button>-->
<!--                                <button [disabled]="item.researcherFeedback" fxFlex="10%" class="editDeleteButton"-->
<!--                                        (click)="delete(item)">-->
<!--                                    <mat-icon class="deleteMatIcon">delete</mat-icon>-->
<!--                                </button>-->
<!--                            </div>-->
                        </td>

                        <td class="col-3">
                            <p><strong>{{item.newMemberResponseDto?.evaluatorName}}</strong></p>
                            <p>{{'PageNo' | translate}}: {{item.pageNo2 ? item.pageNo2 : 0}}</p>
                            <p [innerHTML]="item.researcherFeedback"></p>
                            <p>{{'Date' | translate}}: {{item['createdOn']}}</p>
<!--                            <div fxLayout="row wrap" fxLayoutAlign="space-between center">-->
<!--                                <p fxFlex="80%">{{'Date' | translate}}: {{item.createdOn}}</p>-->
<!--                                <button fxFlex="10%" class="editDeleteButton" (click)="onEditResearcherFeedback(item)">-->
<!--                                    <mat-icon class="editMatIcon">edit</mat-icon>-->
<!--                                </button>-->
<!--                                <button [disabled]="item.feedbackCompleted" fxFlex="10%" class="editDeleteButton"-->
<!--                                        (click)="delete(item)">-->
<!--                                    <mat-icon class="deleteMatIcon">delete</mat-icon>-->
<!--                                </button>-->
<!--                            </div>-->
                        </td>
                        <td class="col-4 text-align-centre">
                            {{item.feedbackCompleted ? ('Yes' | translate) : ('No' | translate)}}
                        </td>
                    </tr>

                </table>
            </div>

        </mat-card>
    </div>
    <!-- Main End -->
</div>
